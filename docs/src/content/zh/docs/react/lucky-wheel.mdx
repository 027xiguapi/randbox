---
title: 'LuckyWheel - å¹¸è¿å¤§è½¬ç›˜'
description: 'åŸºäºCanvasçš„å¹¸è¿å¤§è½¬ç›˜ç»„ä»¶ï¼Œæ”¯æŒè‡ªå®šä¹‰å¥–å“ã€æƒé‡ã€é¢œè‰²é…ç½®å’Œæµç•…çš„æ—‹è½¬åŠ¨ç”»'
---

# LuckyWheel - å¹¸è¿å¤§è½¬ç›˜

`LuckyWheel` æ˜¯ä¸€ä¸ªåŸºäºCanvasçš„å¹¸è¿å¤§è½¬ç›˜ç»„ä»¶ï¼Œæä¾›ç»å…¸çš„è½¬ç›˜æŠ½å¥–ä½“éªŒã€‚æ”¯æŒè‡ªå®šä¹‰å¥–å“ã€æƒé‡ã€é¢œè‰²é…ç½®ã€åŠ¨ç”»æ•ˆæœç­‰ä¸°å¯ŒåŠŸèƒ½ã€‚

## ğŸ“¦ å¯¼å…¥

```typescript
import { LuckyWheel } from '@randbox/react';
import type { LuckyWheelProps, LuckyWheelResult } from '@randbox/react';
```

## ğŸ¯ ç±»å‹å®šä¹‰

### LuckyWheelProps

```typescript
interface LuckyWheelProps {
  // å¿…éœ€å±æ€§
  prizes: string[];                                    // å¥–å“åˆ—è¡¨

  // å¯é€‰å±æ€§
  weights?: number[];                                  // å¥–å“æƒé‡
  colors?: string[];                                   // è‡ªå®šä¹‰é¢œè‰²
  animationDuration?: number;                          // åŠ¨ç”»æ—¶é•¿ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤4000
  buttonText?: string;                                 // æŒ‰é’®æ–‡å­—ï¼Œé»˜è®¤"å¼€å§‹æŠ½å¥–"

  // åŸºç¡€å±æ€§ï¼ˆç»§æ‰¿è‡ªBaseGamePropsï¼‰
  className?: string;                                  // CSSç±»å
  style?: React.CSSProperties;                        // å†…è”æ ·å¼
  disabled?: boolean;                                  // æ˜¯å¦ç¦ç”¨

  // å›è°ƒå‡½æ•°
  onGameStart?: () => void;                           // æ¸¸æˆå¼€å§‹å›è°ƒ
  onGameEnd?: (result: LuckyWheelResult) => void;    // æ¸¸æˆç»“æŸå›è°ƒ
  onResult?: (result: LuckyWheelResult) => void;     // ç»“æœå›è°ƒ
}
```

### LuckyWheelResult

```typescript
interface LuckyWheelResult {
  prizeIndex: number;    // ä¸­å¥–å¥–å“ç´¢å¼•
  prize: string;         // ä¸­å¥–å¥–å“
  angle: number;         // æœ€ç»ˆæ—‹è½¬è§’åº¦
  round: number;         // å›åˆæ•°
}
```

### LuckyWheelStats

```typescript
interface LuckyWheelStats {
  totalSpins: number;              // æ€»æŠ½å¥–æ¬¡æ•°
  prizeHistory: Record<string, number>; // å¥–å“å†å²è®°å½•
}
```

## ğŸ“‹ APIå‚è€ƒ

### LuckyWheelProps

| å±æ€§ | ç±»å‹ | é»˜è®¤å€¼ | æè¿° |
|------|------|--------|------|
| `prizes` | `string[]` | **å¿…éœ€** | å¥–å“åˆ—è¡¨ï¼Œå»ºè®®4-12ä¸ªå¥–å“ |
| `weights` | `number[]` | `undefined` | æƒé‡æ•°ç»„ï¼Œæ§åˆ¶æ¯ä¸ªå¥–å“çš„ä¸­å¥–æ¦‚ç‡ |
| `colors` | `string[]` | é»˜è®¤æ¸å˜è‰² | è‡ªå®šä¹‰æ‰‡å½¢é¢œè‰²ï¼Œå»ºè®®ä¸å¥–å“æ•°é‡ç›¸åŒ |
| `animationDuration` | `number` | `4000` | åŠ¨ç”»æŒç»­æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ |
| `buttonText` | `string` | `'å¼€å§‹æŠ½å¥–'` | ä¸­å¿ƒæŒ‰é’®æ–‡å­— |
| `className` | `string` | `''` | CSSç±»å |
| `style` | `React.CSSProperties` | `{}` | å†…è”æ ·å¼ |
| `disabled` | `boolean` | `false` | æ˜¯å¦ç¦ç”¨ |
| `onGameStart` | `() => void` | `undefined` | æ¸¸æˆå¼€å§‹å›è°ƒ |
| `onGameEnd` | `(result) => void` | `undefined` | æ¸¸æˆç»“æŸå›è°ƒ |
| `onResult` | `(result) => void` | `undefined` | ç»“æœå›è°ƒ |

### LuckyWheelResult ç»“æ„

```typescript
{
  prizeIndex: 0,              // ä¸­å¥–å¥–å“ç´¢å¼•ï¼ˆ0å¼€å§‹ï¼‰
  prize: "iPhone 15 Pro",     // ä¸­å¥–å¥–å“åç§°
  angle: 12.566370614359172,  // æœ€ç»ˆæ—‹è½¬è§’åº¦ï¼ˆå¼§åº¦ï¼‰
  round: 1                    // å½“å‰å›åˆæ•°
}
```

## ğŸš€ åŸºç¡€ç”¨æ³•

```typescript
import React from 'react';
import { LuckyWheel } from '@randbox/react';

function BasicLuckyWheel() {
  const prizes = ['ä¸€ç­‰å¥–', 'äºŒç­‰å¥–', 'ä¸‰ç­‰å¥–', 'å››ç­‰å¥–', 'äº”ç­‰å¥–', 'å…­ç­‰å¥–'];

  const handleResult = (result) => {
    console.log('æŠ½å¥–ç»“æœ:', result);
    alert(`æ­å–œï¼æ‚¨æŠ½ä¸­äº†ï¼š${result.prize}`);
  };

  return (
    <LuckyWheel
      prizes={prizes}
      onResult={handleResult}
    />
  );
}
```

## ğŸ¨ é«˜çº§ç”¨æ³•

### å¸¦æƒé‡å’Œè‡ªå®šä¹‰é¢œè‰²

```typescript
function CustomLuckyWheel() {
  const prizes = [
    'iPhone 15 Pro',
    'iPad Air',
    'AirPods Pro',
    'Apple Watch',
    'ä¼˜æƒ åˆ¸',
    'ç§¯åˆ†',
    'ä»£é‡‘åˆ¸',
    'è°¢è°¢å‚ä¸'
  ];

  // æƒé‡è¶Šé«˜ï¼Œä¸­å¥–æ¦‚ç‡è¶Šå¤§
  const weights = [1, 3, 5, 8, 15, 20, 25, 23];

  // è‡ªå®šä¹‰é¢œè‰²ï¼ˆè“ç´«è‰²ç³»ï¼‰
  const colors = [
    '#A8B9F5',
    '#C9D5F7',
    '#A8B9F5',
    '#C9D5F7',
    '#A8B9F5',
    '#C9D5F7',
    '#A8B9F5',
    '#C9D5F7'
  ];

  return (
    <LuckyWheel
      prizes={prizes}
      weights={weights}
      colors={colors}
      animationDuration={5000}
      buttonText="å¼€å§‹è½¬åŠ¨"
      onResult={(result) => {
        if (result.prizeIndex < 4) {
          alert(`ğŸ‰ æ­å–œæ‚¨ä¸­äº†${result.prize}ï¼`);
        }
      }}
    />
  );
}
```

### å®Œæ•´é…ç½®ç¤ºä¾‹

```typescript
function FullConfigLuckyWheel() {
  const [isSpinning, setIsSpinning] = useState(false);
  const [history, setHistory] = useState<LuckyWheelResult[]>([]);

  const prizes = [
    'ğŸ è¶…çº§å¤§å¥–',
    'ğŸ† ä¸€ç­‰å¥–',
    'ğŸ’ äºŒç­‰å¥–',
    'â­ ä¸‰ç­‰å¥–',
    'ğŸ¯ å››ç­‰å¥–',
    'ğŸª äº”ç­‰å¥–',
    'ğŸ¨ å…­ç­‰å¥–',
    'ğŸŠ è°¢è°¢å‚ä¸'
  ];

  const weights = [1, 2, 5, 10, 15, 20, 25, 22];

  const colors = [
    '#FF6B6B',
    '#4ECDC4',
    '#45B7D1',
    '#FFA07A',
    '#98D8C8',
    '#F7DC6F',
    '#BB8FCE',
    '#85C1E2'
  ];

  const handleGameStart = () => {
    setIsSpinning(true);
    console.log('è½¬ç›˜å¼€å§‹æ—‹è½¬...');
  };

  const handleGameEnd = (result: LuckyWheelResult) => {
    setIsSpinning(false);
    setHistory(prev => [result, ...prev.slice(0, 4)]);
    console.log('è½¬ç›˜åœæ­¢:', result);
  };

  return (
    <div style={{ padding: '20px' }}>
      <LuckyWheel
        prizes={prizes}
        weights={weights}
        colors={colors}
        animationDuration={4500}
        buttonText={isSpinning ? 'æ—‹è½¬ä¸­...' : 'ç‚¹å‡»æŠ½å¥–'}
        className="my-lucky-wheel"
        style={{ margin: '20px auto' }}
        disabled={isSpinning}
        onGameStart={handleGameStart}
        onGameEnd={handleGameEnd}
        onResult={(result) => {
          console.log('å®æ—¶ç»“æœ:', result);
        }}
      />

      {/* æŠ½å¥–å†å² */}
      {history.length > 0 && (
        <div style={{ marginTop: '30px' }}>
          <h3>æœ€è¿‘æŠ½å¥–è®°å½•ï¼š</h3>
          {history.map((result, index) => (
            <div
              key={index}
              style={{
                padding: '10px',
                backgroundColor: '#f5f5f5',
                margin: '5px 0',
                borderRadius: '5px'
              }}
            >
              ç¬¬ {result.round} è½®ï¼š{result.prize} (ä½ç½®: {result.prizeIndex + 1})
            </div>
          ))}
        </div>
      )}
    </div>
  );
}
```

## ğŸ“‹ APIå‚è€ƒ

### å±æ€§è¯´æ˜

| å±æ€§ | ç±»å‹ | é»˜è®¤å€¼ | æè¿° |
|------|------|--------|------|
| `prizes` | `string[]` | **å¿…éœ€** | å¥–å“åˆ—è¡¨ï¼Œå»ºè®®4-12ä¸ªå¥–å“ |
| `weights` | `number[]` | `undefined` | æƒé‡æ•°ç»„ï¼Œæ§åˆ¶æ¯ä¸ªå¥–å“çš„ä¸­å¥–æ¦‚ç‡ |
| `colors` | `string[]` | é»˜è®¤æ¸å˜è‰² | è‡ªå®šä¹‰æ‰‡å½¢é¢œè‰²ï¼Œå»ºè®®ä¸å¥–å“æ•°é‡ç›¸åŒ |
| `animationDuration` | `number` | `4000` | åŠ¨ç”»æŒç»­æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ |
| `buttonText` | `string` | `'å¼€å§‹æŠ½å¥–'` | ä¸­å¿ƒæŒ‰é’®æ–‡å­— |
| `className` | `string` | `''` | CSSç±»å |
| `style` | `React.CSSProperties` | `{}` | å†…è”æ ·å¼ |
| `disabled` | `boolean` | `false` | æ˜¯å¦ç¦ç”¨ |
| `onGameStart` | `() => void` | `undefined` | æ¸¸æˆå¼€å§‹å›è°ƒ |
| `onGameEnd` | `(result) => void` | `undefined` | æ¸¸æˆç»“æŸå›è°ƒ |
| `onResult` | `(result) => void` | `undefined` | ç»“æœå›è°ƒ |

### LuckyWheelResult ç»“æ„

```typescript
{
  prizeIndex: 0,              // ä¸­å¥–å¥–å“ç´¢å¼•ï¼ˆ0å¼€å§‹ï¼‰
  prize: "iPhone 15 Pro",     // ä¸­å¥–å¥–å“åç§°
  angle: 12.566370614359172,  // æœ€ç»ˆæ—‹è½¬è§’åº¦ï¼ˆå¼§åº¦ï¼‰
  round: 1                    // å½“å‰å›åˆæ•°
}
```

## ğŸ¨ æ ·å¼å®šåˆ¶

### å®¹å™¨æ ·å¼

```css
.my-lucky-wheel {
  border: 4px solid #7A95D6;
  border-radius: 20px;
  box-shadow: 0 4px 20px rgba(90, 125, 191, 0.2);
}

.my-lucky-wheel:hover {
  box-shadow: 0 8px 30px rgba(90, 125, 191, 0.3);
  transition: box-shadow 0.3s ease;
}
```

### é¢œè‰²æ–¹æ¡ˆ

```typescript
// æ¸©æš–è‰²ç³»
const warmColors = ['#FF6B6B', '#FF8E53', '#FFA07A', '#FFD93D'];

// æ¸…å‡‰è‰²ç³»
const coolColors = ['#4ECDC4', '#45B7D1', '#5DADE2', '#85C1E2'];

// å½©è™¹è‰²ç³»
const rainbowColors = ['#FF6B6B', '#FFD93D', '#6BCF7F', '#4ECDC4', '#A78BFA', '#F472B6'];

<LuckyWheel prizes={prizes} colors={warmColors} />
```

## ğŸ”§ é«˜çº§åŠŸèƒ½

### åŠ¨æ€æ›´æ–°å¥–å“

```typescript
function DynamicLuckyWheel() {
  const [prizes, setPrizes] = useState([
    'å¥–å“A', 'å¥–å“B', 'å¥–å“C', 'å¥–å“D', 'å¥–å“E', 'å¥–å“F'
  ]);

  const updatePrizes = () => {
    setPrizes(prev => prev.map((prize, i) =>
      i === 0 ? `æ–°å¥–å“ ${Date.now()}` : prize
    ));
  };

  return (
    <div>
      <button onClick={updatePrizes}>æ›´æ–°å¥–å“</button>
      <LuckyWheel prizes={prizes} />
    </div>
  );
}
```

### æŠ½å¥–æ¬¡æ•°é™åˆ¶

```typescript
function LimitedLuckyWheel() {
  const [remainingSpins, setRemainingSpins] = useState(3);

  const handleGameEnd = (result: LuckyWheelResult) => {
    setRemainingSpins(prev => Math.max(0, prev - 1));
  };

  return (
    <div>
      <p>å‰©ä½™æŠ½å¥–æ¬¡æ•°ï¼š{remainingSpins}</p>
      <LuckyWheel
        prizes={['å¤§å¥–', 'ä¸­å¥–', 'å°å¥–', 'è°¢è°¢å‚ä¸']}
        disabled={remainingSpins === 0}
        buttonText={remainingSpins > 0 ? 'å¼€å§‹æŠ½å¥–' : 'æ¬¡æ•°å·²ç”¨å®Œ'}
        onGameEnd={handleGameEnd}
      />
    </div>
  );
}
```

## ğŸ¯ æœ€ä½³å®è·µ

### 1. å¥–å“æ•°é‡å»ºè®®

```typescript
// æ¨èï¼š4-12ä¸ªå¥–å“ï¼Œè§†è§‰æ•ˆæœæœ€ä½³
const idealPrizes = ['å¥–å“1', 'å¥–å“2', 'å¥–å“3', 'å¥–å“4', 'å¥–å“5', 'å¥–å“6'];

// é¿å…ï¼šå¤ªå°‘æˆ–å¤ªå¤šçš„å¥–å“
const tooFew = ['å¥–å“1', 'å¥–å“2'];  // è§†è§‰æ•ˆæœå·®
const tooMany = Array(20).fill('å¥–å“');  // æ–‡å­—å¯èƒ½é‡å 
```

### 2. æƒé‡é…ç½®å»ºè®®

```typescript
// åˆç†çš„æƒé‡åˆ†é…ï¼ˆæ€»å’Œä¸º100ï¼Œä¾¿äºè®¡ç®—æ¦‚ç‡ï¼‰
const prizes = ['ç‰¹ç­‰å¥–', 'ä¸€ç­‰å¥–', 'äºŒç­‰å¥–', 'ä¸‰ç­‰å¥–', 'ä¼˜æƒ åˆ¸', 'è°¢è°¢å‚ä¸'];
const weights = [1, 5, 10, 20, 30, 34];  // æ€»å’Œ100

// è®¡ç®—æ¯ä¸ªå¥–å“çš„ä¸­å¥–æ¦‚ç‡
const totalWeight = weights.reduce((sum, w) => sum + w, 0);
weights.forEach((weight, index) => {
  const probability = (weight / totalWeight * 100).toFixed(2);
  console.log(`${prizes[index]}: ${probability}%`);
});
```

### 3. å“åº”å¼è®¾è®¡

```typescript
function ResponsiveLuckyWheel() {
  return (
    <div style={{
      width: '100%',
      maxWidth: '500px',
      margin: '0 auto',
      padding: '20px'
    }}>
      <LuckyWheel
        prizes={['å¥–å“1', 'å¥–å“2', 'å¥–å“3', 'å¥–å“4']}
        style={{ width: '100%' }}
      />
    </div>
  );
}
```

## ğŸ› å¸¸è§é—®é¢˜

### Q: å¦‚ä½•ç¡®ä¿æŠ½å¥–çš„å…¬å¹³æ€§ï¼Ÿ
A: ä½¿ç”¨æƒé‡é…ç½®ï¼Œç¡®ä¿æƒé‡å€¼åˆç†åˆ†é…ã€‚RandBoxä½¿ç”¨Mersenne Twisterç®—æ³•ä¿è¯éšæœºæ€§ã€‚

### Q: è½¬ç›˜å¯ä»¥è‡ªå®šä¹‰æ ·å¼å—ï¼Ÿ
A: å¯ä»¥é€šè¿‡`colors`å±æ€§è‡ªå®šä¹‰æ‰‡å½¢é¢œè‰²ï¼Œé€šè¿‡`className`å’Œ`style`è‡ªå®šä¹‰å®¹å™¨æ ·å¼ã€‚

### Q: å¦‚ä½•å®ç°æŒ‡å®šä¸­å¥–ï¼Ÿ
A: ä¸å»ºè®®è¿™æ ·åšï¼Œå› ä¸ºè¿™è¿åäº†æŠ½å¥–çš„å…¬å¹³æ€§åŸåˆ™ã€‚å¦‚éœ€ç‰¹æ®Šåœºæ™¯ï¼Œå¯è°ƒæ•´æƒé‡å®ç°ã€‚

### Q: è½¬ç›˜çš„æ—‹è½¬é€Ÿåº¦å¯ä»¥è°ƒæ•´å—ï¼Ÿ
A: å¯ä»¥ï¼Œé€šè¿‡`animationDuration`å±æ€§è°ƒæ•´ï¼Œå•ä½ä¸ºæ¯«ç§’ã€‚å»ºè®®3000-6000msä¹‹é—´ã€‚

## ğŸ”— ç›¸å…³é“¾æ¥

- [GridLottery - ä¹å®«æ ¼æŠ½å¥–](/zh/docs/react/grid-lottery)
- [SlotMachine - è€è™æœº](/zh/docs/react/slot-machine)
- [RandBox æ ¸å¿ƒåº“](/zh/docs/basics)
