---
title: '@randbox/react ç»„ä»¶åº“'
description: 'åŸºäºCanvasçš„é«˜æ€§èƒ½Reactæ¸¸æˆç»„ä»¶åº“ï¼Œæä¾›ä¹å®«æ ¼æŠ½å¥–ã€è€è™æœºã€å¹¸è¿å¤§è½¬ç›˜ã€éª°å­æ¸¸æˆã€åˆ®åˆ®å¡ã€çŸ³å¤´å‰ªåˆ€å¸ƒå’ŒæŠ›ç¡¬å¸ç»„ä»¶'
---

# @randbox/react ç»„ä»¶åº“

@randbox/react æ˜¯ä¸€ä¸ªåŸºäºCanvasæ¸²æŸ“çš„é«˜æ€§èƒ½Reactæ¸¸æˆç»„ä»¶åº“ï¼Œæä¾›äº†7ä¸ªæ ¸å¿ƒæ¸¸æˆç»„ä»¶ã€‚æ‰€æœ‰ç»„ä»¶éƒ½ä½¿ç”¨RandBoxä½œä¸ºéšæœºæ•°ç”Ÿæˆå™¨ï¼Œç¡®ä¿çœŸæ­£çš„éšæœºæ€§å’Œå…¬å¹³æ€§ã€‚

## âœ¨ ç‰¹æ€§

- ğŸ® **7ä¸ªæ ¸å¿ƒæ¸¸æˆç»„ä»¶**ï¼šä¹å®«æ ¼æŠ½å¥–ã€è€è™æœºã€å¹¸è¿å¤§è½¬ç›˜ã€éª°å­æ¸¸æˆã€åˆ®åˆ®å¡ã€çŸ³å¤´å‰ªåˆ€å¸ƒã€æŠ›ç¡¬å¸
- ğŸš€ **é«˜æ€§èƒ½**ï¼šåŸºäºCanvasæ¸²æŸ“ï¼Œæµç•…çš„åŠ¨ç”»æ•ˆæœ
- ğŸ“¦ **è½»é‡çº§**ï¼šä¼˜åŒ–åçš„æ‰“åŒ…å¤§å°ï¼ˆESæ¨¡å—ï¼š~96KBï¼ŒUMDï¼š~43KBï¼‰
- ğŸ¨ **æ— éœ€CSS**ï¼šæ‰€æœ‰æ ·å¼éƒ½é€šè¿‡Canvasæ¸²æŸ“ï¼Œæ— å¤–éƒ¨ä¾èµ–
- ğŸ“± **å“åº”å¼**ï¼šè‡ªé€‚åº”ä¸åŒå±å¹•å°ºå¯¸
- ğŸ”§ **TypeScript**ï¼šå®Œæ•´çš„ç±»å‹å®šä¹‰æ”¯æŒ
- ğŸ² **çœŸå®éšæœº**ï¼šåŸºäºRandBoxçš„é«˜è´¨é‡éšæœºæ•°ç”Ÿæˆ

## ğŸ“¦ å®‰è£…

```bash
npm install @randbox/react randbox
# æˆ–
yarn add @randbox/react randbox
# æˆ–
pnpm add @randbox/react randbox
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

```typescript
import {
  GridLottery,
  SlotMachine,
  LuckyWheel,
  DiceGame,
  ScratchCard,
  RockPaperScissors,
  CoinFlip
} from '@randbox/react';

function App() {
  return (
    <div>
      {/* ä¹å®«æ ¼æŠ½å¥– */}
      <GridLottery
        prizes={['ä¸€ç­‰å¥–', 'äºŒç­‰å¥–', 'ä¸‰ç­‰å¥–', 'è°¢è°¢å‚ä¸']}
        onResult={(result) => console.log('ä¸­å¥–:', result)}
      />

      {/* è€è™æœº */}
      <SlotMachine
        reels={[
          ['ğŸ', 'ğŸŠ', 'ğŸ‹', 'ğŸ’'],
          ['ğŸ', 'ğŸŠ', 'ğŸ‹', 'ğŸ’'],
          ['ğŸ', 'ğŸŠ', 'ğŸ‹', 'ğŸ’']
        ]}
        onResult={(result) => console.log('ç»“æœ:', result)}
      />

      {/* å¹¸è¿å¤§è½¬ç›˜ */}
      <LuckyWheel
        prizes={['å¤§å¥–', 'ä¸­å¥–', 'å°å¥–', 'è°¢è°¢å‚ä¸']}
        onResult={(result) => console.log('ä¸­å¥–:', result)}
      />

      {/* éª°å­æ¸¸æˆ */}
      <DiceGame
        diceCount={2}
        gameMode="sum"
        onResult={(result) => console.log('æŠ•æ·ç»“æœ:', result)}
      />

      {/* åˆ®åˆ®å¡ */}
      <ScratchCard
        rows={3}
        cols={3}
        symbols={['ğŸ', 'ğŸŒ', 'ğŸ‡']}
        onScratch={(result) => console.log('åˆ®å¥–ç»“æœ:', result)}
      />

      {/* çŸ³å¤´å‰ªåˆ€å¸ƒ */}
      <RockPaperScissors
        onResult={(result) => console.log('æ¸¸æˆç»“æœ:', result)}
      />

      {/* æŠ›ç¡¬å¸ */}
      <CoinFlip
        onResult={(result) => console.log('æŠ›å¸ç»“æœ:', result)}
      />
    </div>
  );
}
```

## ğŸ® ç»„ä»¶åˆ—è¡¨

### [GridLottery - ä¹å®«æ ¼æŠ½å¥–](/zh/docs/react/grid-lottery)
ç»å…¸çš„ä¹å®«æ ¼è½¬ç›˜æŠ½å¥–ï¼Œæ”¯æŒè‡ªå®šä¹‰å¥–å“å’Œæƒé‡ã€‚

### [SlotMachine - è€è™æœº](/zh/docs/react/slot-machine)
å¤šæ»šè½´è€è™æœºé£æ ¼çš„æŠ½å¥–ç»„ä»¶ï¼Œæ”¯æŒè‡ªå®šä¹‰ç¬¦å·å’Œä¸­å¥–è§„åˆ™ã€‚

### [LuckyWheel - å¹¸è¿å¤§è½¬ç›˜](/zh/docs/react/lucky-wheel)
ç»å…¸è½¬ç›˜æŠ½å¥–ï¼Œæ”¯æŒè‡ªå®šä¹‰å¥–å“ã€é¢œè‰²å’Œæƒé‡é…ç½®ã€‚

### [DiceGame - éª°å­æ¸¸æˆ](/zh/docs/react/dice-game)
3Dæ•ˆæœçš„éª°å­æ¸¸æˆï¼Œæ”¯æŒå¤šç§æ¸¸æˆæ¨¡å¼ï¼ˆç®€å•ã€å’Œå€¼ã€å¤§å°ã€çŒœæµ‹ç­‰ï¼‰ã€‚

### [ScratchCard - åˆ®åˆ®å¡](/zh/docs/react/scratch-card)
çœŸå®çš„åˆ®é™¤ä½“éªŒï¼Œæ”¯æŒå¤šç§ä¸­å¥–æ¨¡å¼ï¼ˆæ¨ªæ’ã€ç«–æ’ã€å¯¹è§’çº¿ï¼‰ã€‚

### [RockPaperScissors - çŸ³å¤´å‰ªåˆ€å¸ƒ](/zh/docs/react/rock-paper-scissors)
ç»å…¸çš„çŸ³å¤´å‰ªåˆ€å¸ƒæ¸¸æˆï¼Œæ”¯æŒå¤šç§AIç­–ç•¥å’Œç»Ÿè®¡åŠŸèƒ½ã€‚

### [CoinFlip - æŠ›ç¡¬å¸](/zh/docs/react/coin-flip)
3Dç¡¬å¸æŠ›æ·æ¸¸æˆï¼Œæ”¯æŒåŠ¨ç”»æ•ˆæœå’Œç»Ÿè®¡æ•°æ®ã€‚

## ğŸ¯ æ€§èƒ½ä¼˜åŒ–

- **Tree-shaking**: æ”¯æŒæŒ‰éœ€å¯¼å…¥ï¼Œæœªä½¿ç”¨çš„ç»„ä»¶ä¸ä¼šè¢«æ‰“åŒ…
- **Canvasæ¸²æŸ“**: åˆ©ç”¨GPUåŠ é€Ÿï¼Œæä¾›æµç•…çš„60fpsåŠ¨ç”»
- **å¤–éƒ¨ä¾èµ–**: Reactå’ŒRandBoxä½œä¸ºå¤–éƒ¨ä¾èµ–ï¼Œé¿å…é‡å¤æ‰“åŒ…
- **ä»£ç å‹ç¼©**: ç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨ç§»é™¤console.logå’Œè°ƒè¯•ä»£ç 

## ğŸ”§ æŠ€æœ¯è§„æ ¼

- **æ¸²æŸ“å¼•æ“**: HTML5 Canvas
- **éšæœºæ•°ç”Ÿæˆ**: RandBox (Mersenne Twisterç®—æ³•)
- **åŠ¨ç”»**: requestAnimationFrame + ç¼“åŠ¨å‡½æ•°
- **å“åº”å¼**: è‡ªåŠ¨é€‚é…å®¹å™¨å¤§å°
- **TypeScript**: å®Œæ•´çš„ç±»å‹æ”¯æŒ

## ğŸ“š APIå‚è€ƒ

### åŸºç¡€ç±»å‹

æ‰€æœ‰ç»„ä»¶éƒ½ç»§æ‰¿è‡ª `BaseGameProps` æ¥å£ï¼š

```typescript
interface BaseGameProps {
  className?: string;
  style?: React.CSSProperties;
  disabled?: boolean;
  onGameStart?: () => void;
  onGameEnd?: (result: any) => void;
}
```

### é€šç”¨ç±»å‹

```typescript
// åŠ¨ç”»çŠ¶æ€
interface AnimationState {
  isAnimating: boolean;
  currentStep: number;
  totalSteps: number;
}

// æ¸¸æˆçŠ¶æ€
interface GameState {
  isPlaying: boolean;
  result?: any;
  history: any[];
}

// æ¸¸æˆä¸»é¢˜é…ç½®
interface GameTheme {
  primaryColor: string;
  secondaryColor: string;
  backgroundColor: string;
  textColor: string;
  borderRadius: string;
  fontFamily: string;
}
```

### ç»„ä»¶è¯¦ç»†ç±»å‹

#### GridLotteryï¼ˆä¹å®«æ ¼æŠ½å¥–ï¼‰

```typescript
interface GridLotteryProps {
  prizes: string[];                    // å¥–å“åˆ—è¡¨
  weights?: number[];                  // å¥–å“æƒé‡
  gridSize?: number;                   // ç½‘æ ¼å¤§å°ï¼Œé»˜è®¤9
  animationDuration?: number;          // åŠ¨ç”»æ—¶é•¿ï¼Œé»˜è®¤3000
  buttonText?: string;                 // æŒ‰é’®æ–‡å­—
  onResult?: (result) => void;        // ç»“æœå›è°ƒ
}

interface GridLotteryResult {
  position: number;    // ä¸­å¥–ä½ç½®ï¼ˆ0-8ï¼‰
  prize: string;       // ä¸­å¥–å¥–å“
  animation: number[]; // åŠ¨ç”»è·¯å¾„
}
```

#### SlotMachineï¼ˆè€è™æœºï¼‰

```typescript
interface SlotMachineProps {
  reels: string[][];                    // æ»šè½´æ•°ç»„
  weights?: number[][];                 // æƒé‡é…ç½®
  animationDuration?: number;           // åŠ¨ç”»æ—¶é•¿ï¼Œé»˜è®¤3000
  buttonText?: string;                  // æŒ‰é’®æ–‡å­—
  width?: number;                       // Canvaså®½åº¦
  height?: number;                      // Canvasé«˜åº¦
  onResult?: (result) => void;         // ç»“æœå›è°ƒ
}

interface SlotMachineResult {
  results: string[];    // æ¯ä¸ªæ»šè½´çš„ç»“æœ
  isJackpot: boolean;   // æ˜¯å¦ä¸­å¤§å¥–
  combination: string;  // ç»„åˆæè¿°
}
```

#### LuckyWheelï¼ˆå¹¸è¿å¤§è½¬ç›˜ï¼‰

```typescript
interface LuckyWheelProps {
  prizes: string[];                     // å¥–å“åˆ—è¡¨
  weights?: number[];                   // å¥–å“æƒé‡
  colors?: string[];                    // è‡ªå®šä¹‰é¢œè‰²
  animationDuration?: number;           // åŠ¨ç”»æ—¶é•¿ï¼Œé»˜è®¤4000
  buttonText?: string;                  // æŒ‰é’®æ–‡å­—
  onResult?: (result) => void;         // ç»“æœå›è°ƒ
}

interface LuckyWheelResult {
  prizeIndex: number;  // ä¸­å¥–å¥–å“ç´¢å¼•
  prize: string;       // ä¸­å¥–å¥–å“
  angle: number;       // æœ€ç»ˆæ—‹è½¬è§’åº¦
  round: number;       // å›åˆæ•°
}
```

#### DiceGameï¼ˆéª°å­æ¸¸æˆï¼‰

```typescript
interface DiceGameProps {
  diceCount?: number;                   // éª°å­æ•°é‡ï¼Œé»˜è®¤1
  sides?: number;                       // éª°å­é¢æ•°ï¼Œé»˜è®¤6
  gameMode?: DiceGameMode;              // æ¸¸æˆæ¨¡å¼
  targetSum?: number;                   // ç›®æ ‡æ€»å’Œ
  onResult?: (result) => void;         // ç»“æœå›è°ƒ
}

type DiceGameMode = 'simple' | 'sum' | 'bigSmall' | 'guess' | 'even_odd' | 'specific';

interface DiceGameResult {
  results: number[];    // éª°å­ç»“æœæ•°ç»„
  total: number;        // ç‚¹æ•°æ€»å’Œ
  gameMode: string;     // æ¸¸æˆæ¨¡å¼
  isWin?: boolean;      // æ˜¯å¦è·èƒœ
  message: string;      // ç»“æœæè¿°
}
```

#### ScratchCardï¼ˆåˆ®åˆ®å¡ï¼‰

```typescript
interface ScratchCardProps {
  rows?: number;                        // è¡Œæ•°ï¼Œé»˜è®¤3
  cols?: number;                        // åˆ—æ•°ï¼Œé»˜è®¤3
  symbols?: string[];                   // ç¬¦å·æ•°ç»„
  winProbability?: number;              // ä¸­å¥–æ¦‚ç‡ï¼Œé»˜è®¤0.3
  width?: number;                       // Canvaså®½åº¦ï¼Œé»˜è®¤300
  height?: number;                      // Canvasé«˜åº¦ï¼Œé»˜è®¤200
  onScratch?: (result) => void;        // åˆ®å¼€å›è°ƒ
  onNewCard?: () => void;              // æ–°å¡ç‰‡å›è°ƒ
}

interface ScratchCardResult {
  grid: string[][];                     // å¡ç‰‡ç½‘æ ¼å†…å®¹
  isWinner: boolean;                    // æ˜¯å¦ä¸­å¥–
  scratchProgress?: number;             // åˆ®å¼€è¿›åº¦ï¼ˆ0-1ï¼‰
  winningInfo?: {                       // ä¸­å¥–ä¿¡æ¯
    pattern: string[];
    name: string;
    prize: string;
    positions: Array<{ row: number; col: number; }>;
  };
}
```

#### RockPaperScissorsï¼ˆçŸ³å¤´å‰ªåˆ€å¸ƒï¼‰

```typescript
interface RockPaperScissorsProps {
  choices?: string[];                   // å¯é€‰æ‹©é€‰é¡¹
  emojis?: Record<string, string>;      // emojiå›¾æ ‡
  showStats?: boolean;                  // æ˜¯å¦æ˜¾ç¤ºç»Ÿè®¡ï¼Œé»˜è®¤true
  strategy?: RPSStrategy;               // AIç­–ç•¥ï¼Œé»˜è®¤'random'
  width?: number;                       // Canvaså®½åº¦
  height?: number;                      // Canvasé«˜åº¦
  onResult?: (result) => void;         // ç»“æœå›è°ƒ
}

type RPSStrategy = 'random' | 'counter' | 'pattern';
type RPSResultType = 'win' | 'lose' | 'tie';

interface RPSResult {
  playerChoice: string;      // ç©å®¶é€‰æ‹©
  computerChoice: string;    // ç”µè„‘é€‰æ‹©
  result: RPSResultType;     // æ¸¸æˆç»“æœ
  message: string;           // ç»“æœæè¿°
  emoji: {                   // emojiå›¾æ ‡
    player: string;
    computer: string;
  };
  round: number;             // å›åˆæ•°
}

interface RPSStats {
  totalGames: number;  // æ€»æ¸¸æˆæ¬¡æ•°
  wins: number;        // è·èƒœæ¬¡æ•°
  losses: number;      // å¤±è´¥æ¬¡æ•°
  ties: number;        // å¹³å±€æ¬¡æ•°
  winRate: string;     // èƒœç‡ï¼ˆç™¾åˆ†æ¯”ï¼‰
}
```

#### CoinFlipï¼ˆæŠ›ç¡¬å¸ï¼‰

```typescript
interface CoinFlipProps {
  animationDuration?: number;           // åŠ¨ç”»æ—¶é•¿ï¼Œé»˜è®¤2000
  showStats?: boolean;                  // æ˜¯å¦æ˜¾ç¤ºç»Ÿè®¡ï¼Œé»˜è®¤true
  width?: number;                       // Canvaså®½åº¦
  height?: number;                      // Canvasé«˜åº¦
  onResult?: (result) => void;         // ç»“æœå›è°ƒ
}

type CoinSide = 'heads' | 'tails';

interface CoinFlipResult {
  result: CoinSide;   // ç¡¬å¸ç»“æœ
  round: number;      // å›åˆæ•°
  timestamp: number;  // æ—¶é—´æˆ³
}

interface CoinFlipStats {
  totalFlips: number;  // æ€»æŠ›æ·æ¬¡æ•°
  heads: number;       // æ­£é¢æ¬¡æ•°
  tails: number;       // åé¢æ¬¡æ•°
  headsRate: string;   // æ­£é¢æ¦‚ç‡
  tailsRate: string;   // åé¢æ¦‚ç‡
}
```

æ¯ä¸ªç»„ä»¶è¿˜æœ‰è‡ªå·±ç‰¹å®šçš„å±æ€§å’Œç±»å‹å®šä¹‰ï¼Œè¯¦è§å„ç»„ä»¶çš„ä¸“é—¨æ–‡æ¡£ã€‚

## ğŸ¨ è‡ªå®šä¹‰æ ·å¼

ç”±äºæ‰€æœ‰ç»„ä»¶éƒ½åŸºäºCanvasæ¸²æŸ“ï¼Œæ ·å¼å®šåˆ¶ä¸»è¦é€šè¿‡ç»„ä»¶å±æ€§è¿›è¡Œï¼š

```typescript
// é€šè¿‡å®¹å™¨æ ·å¼æ§åˆ¶ç»„ä»¶å¤–è§‚
<div style={{ border: '2px solid #ccc', borderRadius: '10px' }}>
  <GridLottery {...props} />
</div>

// é€šè¿‡ç»„ä»¶å±æ€§æ§åˆ¶Canvaså†…å®¹
<DiceGame
  style={{ border: '1px solid #ddd' }}
  className="my-dice-game"
/>

// å¹¸è¿å¤§è½¬ç›˜æ”¯æŒè‡ªå®šä¹‰é¢œè‰²
<LuckyWheel
  prizes={['å¥–å“1', 'å¥–å“2', 'å¥–å“3', 'å¥–å“4']}
  colors={['#FF6B6B', '#4ECDC4', '#45B7D1', '#FFA07A']}
/>
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·æŸ¥çœ‹æˆ‘ä»¬çš„[è´¡çŒ®æŒ‡å—](https://github.com/027xiguapi/randbox/blob/main/CONTRIBUTING.md)ã€‚

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](https://github.com/027xiguapi/randbox/blob/main/LICENSE) æ–‡ä»¶ã€‚