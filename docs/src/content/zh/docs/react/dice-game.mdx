---
title: 'DiceGame - éª°å­æ¸¸æˆ'
description: 'åŸºäºCanvasçš„3Déª°å­æ¸¸æˆç»„ä»¶ï¼Œæ”¯æŒå¤šç§æ¸¸æˆæ¨¡å¼ã€è‡ªå®šä¹‰éª°å­æ•°é‡å’ŒæŠ•æ·åŠ¨ç”»æ•ˆæœ'
---

# DiceGame - éª°å­æ¸¸æˆ

`DiceGame` æ˜¯ä¸€ä¸ªåŸºäºCanvasçš„3Déª°å­æ¸¸æˆç»„ä»¶ï¼Œæä¾›çœŸå®çš„æŠ•æ·ä½“éªŒå’Œå¤šç§æ¸¸æˆæ¨¡å¼ã€‚æ”¯æŒè‡ªå®šä¹‰éª°å­æ•°é‡ã€é¢æ•°ä»¥åŠä¸°å¯Œçš„æ¸¸æˆè§„åˆ™é…ç½®ã€‚

## ğŸ“¦ å¯¼å…¥

```typescript
import { DiceGame } from '@randbox/react';
import type { DiceGameProps, DiceGameResult } from '@randbox/react';
```

## ğŸ¯ ç±»å‹å®šä¹‰

### DiceGameProps

```typescript
interface DiceGameProps {
  // å¯é€‰å±æ€§
  diceCount?: number;                                // éª°å­æ•°é‡ï¼Œé»˜è®¤1
  sides?: number;                                    // éª°å­é¢æ•°ï¼Œé»˜è®¤6
  gameMode?: DiceGameMode;                           // æ¸¸æˆæ¨¡å¼ï¼Œé»˜è®¤'simple'
  targetSum?: number;                                // ç›®æ ‡æ€»å’Œï¼ˆsumæ¨¡å¼ä½¿ç”¨ï¼‰

  // åŸºç¡€å±æ€§ï¼ˆç»§æ‰¿è‡ªBaseGamePropsï¼‰
  className?: string;                                // CSSç±»å
  style?: React.CSSProperties;                      // å†…è”æ ·å¼
  disabled?: boolean;                                // æ˜¯å¦ç¦ç”¨

  // å›è°ƒå‡½æ•°
  onGameStart?: () => void;                         // æ¸¸æˆå¼€å§‹å›è°ƒ
  onGameEnd?: (result: DiceGameResult) => void;    // æ¸¸æˆç»“æŸå›è°ƒ
  onResult?: (result: DiceGameResult) => void;     // ç»“æœå›è°ƒ
}
```

### DiceGameMode

```typescript
type DiceGameMode =
  | 'simple'        // ç®€å•æ¨¡å¼ï¼Œä»…æ˜¾ç¤ºéª°å­ç»“æœ
  | 'sum'           // æ€»å’Œæ¨¡å¼ï¼Œæ˜¾ç¤ºæ‰€æœ‰éª°å­ç‚¹æ•°ä¹‹å’Œ
  | 'bigSmall'      // å¤§å°æ¨¡å¼ï¼ŒçŒœå¤§å°
  | 'guess'         // çŒœç‚¹æ¨¡å¼ï¼ŒçŒœæµ‹å…·ä½“ç‚¹æ•°
  | 'even_odd'      // å•åŒæ¨¡å¼ï¼ŒçŒœå•æ•°æˆ–åŒæ•°
  | 'specific';     // ç‰¹å®šç‚¹æ¨¡å¼ï¼ŒçŒœæµ‹æ˜¯å¦æœ‰ç‰¹å®šç‚¹æ•°
```

### DiceGameResult

```typescript
interface DiceGameResult {
  results: number[];     // æ‰€æœ‰éª°å­çš„ç»“æœæ•°ç»„
  total: number;         // éª°å­ç‚¹æ•°æ€»å’Œ
  gameMode: string;      // æ¸¸æˆæ¨¡å¼
  isWin?: boolean;       // æ˜¯å¦è·èƒœï¼ˆåœ¨å¯¹æˆ˜æ¨¡å¼ä¸‹ï¼‰
  message: string;       // ç»“æœæè¿°ä¿¡æ¯
  values: number[];      // æ‰€æœ‰éª°å­çš„å€¼ï¼ˆä¸resultsç›¸åŒï¼‰
  sum: number;           // æ€»å’Œï¼ˆä¸totalç›¸åŒï¼‰
  description: string;   // è¯¦ç»†æè¿°
}
```

## ğŸš€ åŸºç¡€ç”¨æ³•

```typescript
import React from 'react';
import { DiceGame } from '@randbox/react';

function BasicDiceGame() {
  const handleResult = (result) => {
    console.log('æŠ•æ·ç»“æœ:', result);
    alert(`æŠ•æ·ç»“æœ: ${result.results.join(', ')}, æ€»å’Œ: ${result.total}`);
  };

  return (
    <DiceGame
      diceCount={2}
      onResult={handleResult}
    />
  );
}
```

## ğŸ¯ é«˜çº§ç”¨æ³•

### å¤šç§æ¸¸æˆæ¨¡å¼

```typescript
function MultiModeDiceGame() {
  const [gameMode, setGameMode] = useState('simple');
  const [targetSum, setTargetSum] = useState(7);

  const handleResult = (result) => {
    console.log(`${result.gameMode}æ¨¡å¼ç»“æœ:`, result);

    switch (result.gameMode) {
      case 'sum':
        alert(`ç›®æ ‡å’Œå€¼: ${targetSum}, å®é™…å’Œå€¼: ${result.sum}, ${result.isWin ? 'æˆåŠŸ' : 'å¤±è´¥'}!`);
        break;
      case 'bigSmall':
        alert(`æŠ•æ·ç»“æœ: ${result.sum > 7 ? 'å¤§' : 'å°'} (${result.sum}), ${result.description}`);
        break;
      case 'even_odd':
        alert(`æŠ•æ·ç»“æœ: ${result.sum % 2 === 0 ? 'å¶æ•°' : 'å¥‡æ•°'} (${result.sum}), ${result.description}`);
        break;
      default:
        alert(result.message);
    }
  };

  return (
    <div style={{ padding: '20px' }}>
      <div style={{ marginBottom: '20px' }}>
        <label>æ¸¸æˆæ¨¡å¼: </label>
        <select value={gameMode} onChange={(e) => setGameMode(e.target.value)}>
          <option value="simple">ç®€å•æ¨¡å¼</option>
          <option value="sum">å’Œå€¼æ¨¡å¼</option>
          <option value="bigSmall">å¤§å°æ¨¡å¼</option>
          <option value="even_odd">å¥‡å¶æ¨¡å¼</option>
          <option value="guess">çŒœæµ‹æ¨¡å¼</option>
          <option value="specific">ç‰¹å®šå€¼æ¨¡å¼</option>
        </select>

        {gameMode === 'sum' && (
          <div style={{ marginTop: '10px' }}>
            <label>ç›®æ ‡å’Œå€¼: </label>
            <input
              type="number"
              value={targetSum}
              min="2"
              max="12"
              onChange={(e) => setTargetSum(parseInt(e.target.value))}
            />
          </div>
        )}
      </div>

      <DiceGame
        diceCount={2}
        gameMode={gameMode}
        targetSum={targetSum}
        onResult={handleResult}
      />
    </div>
  );
}
```

### å¤šéª°å­æ¸¸æˆ

```typescript
function MultiDiceGame() {
  const [diceCount, setDiceCount] = useState(3);
  const [sides, setSides] = useState(6);
  const [results, setResults] = useState([]);

  const handleResult = (result) => {
    const newResult = {
      ...result,
      timestamp: new Date().toLocaleTimeString()
    };
    setResults(prev => [newResult, ...prev.slice(0, 9)]);
  };

  const totalPossibleSum = diceCount * sides;
  const averageSum = diceCount * (sides + 1) / 2;

  return (
    <div style={{ padding: '20px' }}>
      <div style={{ marginBottom: '20px', display: 'flex', gap: '20px' }}>
        <div>
          <label>éª°å­æ•°é‡: </label>
          <select value={diceCount} onChange={(e) => setDiceCount(parseInt(e.target.value))}>
            {[1, 2, 3, 4, 5, 6].map(n => (
              <option key={n} value={n}>{n}ä¸ªéª°å­</option>
            ))}
          </select>
        </div>

        <div>
          <label>éª°å­é¢æ•°: </label>
          <select value={sides} onChange={(e) => setSides(parseInt(e.target.value))}>
            <option value={4}>4é¢</option>
            <option value={6}>6é¢</option>
            <option value={8}>8é¢</option>
            <option value={10}>10é¢</option>
            <option value={12}>12é¢</option>
            <option value={20}>20é¢</option>
          </select>
        </div>
      </div>

      <div style={{ marginBottom: '20px', padding: '10px', backgroundColor: '#f0f8ff' }}>
        <div>é…ç½®ä¿¡æ¯: {diceCount}ä¸ª{sides}é¢éª°å­</div>
        <div>å¯èƒ½å’Œå€¼èŒƒå›´: {diceCount} - {totalPossibleSum}</div>
        <div>å¹³å‡æœŸæœ›å€¼: {averageSum.toFixed(1)}</div>
      </div>

      <DiceGame
        diceCount={diceCount}
        sides={sides}
        gameMode="simple"
        onResult={handleResult}
      />

      {/* å†å²è®°å½• */}
      {results.length > 0 && (
        <div style={{ marginTop: '20px' }}>
          <h3>æŠ•æ·å†å²è®°å½•:</h3>
          <div style={{ maxHeight: '300px', overflowY: 'auto' }}>
            {results.map((result, index) => (
              <div
                key={index}
                style={{
                  padding: '8px',
                  margin: '5px 0',
                  backgroundColor: '#f8f9fa',
                  borderRadius: '5px',
                  display: 'flex',
                  justifyContent: 'space-between'
                }}
              >
                <span>{result.results.join(' + ')} = {result.sum}</span>
                <span style={{ color: '#666', fontSize: '0.9em' }}>{result.timestamp}</span>
              </div>
            ))}
          </div>
        </div>
      )}
    </div>
  );
}
```

### ç«æŠ€æ¨¡å¼éª°å­æ¸¸æˆ

```typescript
function CompetitiveDiceGame() {
  const [playerScore, setPlayerScore] = useState(0);
  const [computerScore, setComputerScore] = useState(0);
  const [round, setRound] = useState(1);
  const [gameHistory, setGameHistory] = useState([]);
  const [isGameOver, setIsGameOver] = useState(false);

  const maxRounds = 5;
  const winningScore = 3;

  const handleResult = (result) => {
    const playerSum = result.sum;

    // è®¡ç®—æœºæŠ•æ·
    const computerDice = Array.from({ length: 2 }, () => Math.floor(Math.random() * 6) + 1);
    const computerSum = computerDice.reduce((a, b) => a + b, 0);

    const roundResult = {
      round,
      player: { dice: result.results, sum: playerSum },
      computer: { dice: computerDice, sum: computerSum },
      winner: playerSum > computerSum ? 'player' : computerSum > playerSum ? 'computer' : 'tie'
    };

    setGameHistory(prev => [...prev, roundResult]);

    // æ›´æ–°åˆ†æ•°
    if (roundResult.winner === 'player') {
      setPlayerScore(prev => prev + 1);
    } else if (roundResult.winner === 'computer') {
      setComputerScore(prev => prev + 1);
    }

    // æ£€æŸ¥æ¸¸æˆç»“æŸæ¡ä»¶
    const newPlayerScore = roundResult.winner === 'player' ? playerScore + 1 : playerScore;
    const newComputerScore = roundResult.winner === 'computer' ? computerScore + 1 : computerScore;

    if (newPlayerScore >= winningScore || newComputerScore >= winningScore || round >= maxRounds) {
      setIsGameOver(true);
    } else {
      setRound(prev => prev + 1);
    }

    // æ˜¾ç¤ºç»“æœ
    setTimeout(() => {
      alert(
        `ç¬¬${round}è½®ç»“æœ:\n` +
        `ç©å®¶: ${playerSum} vs ç”µè„‘: ${computerSum}\n` +
        `${roundResult.winner === 'tie' ? 'å¹³å±€!' : `${roundResult.winner === 'player' ? 'ç©å®¶' : 'ç”µè„‘'}è·èƒœ!`}`
      );
    }, 1000);
  };

  const resetGame = () => {
    setPlayerScore(0);
    setComputerScore(0);
    setRound(1);
    setGameHistory([]);
    setIsGameOver(false);
  };

  const gameWinner = playerScore >= winningScore ? 'player' :
                   computerScore >= winningScore ? 'computer' :
                   'ongoing';

  return (
    <div style={{ padding: '20px' }}>
      {/* æ¯”åˆ†é¢æ¿ */}
      <div style={{
        display: 'flex',
        justifyContent: 'space-around',
        marginBottom: '20px',
        padding: '20px',
        backgroundColor: '#f8f9fa',
        borderRadius: '10px'
      }}>
        <div style={{ textAlign: 'center' }}>
          <h3>ç©å®¶</h3>
          <div style={{ fontSize: '2em', color: '#007bff' }}>{playerScore}</div>
        </div>
        <div style={{ textAlign: 'center' }}>
          <h3>ç¬¬ {round} è½®</h3>
          <div style={{ fontSize: '1.2em' }}>
            {isGameOver ? 'æ¸¸æˆç»“æŸ' : `è¿›è¡Œä¸­ (${maxRounds}è½®åˆ¶)`}
          </div>
        </div>
        <div style={{ textAlign: 'center' }}>
          <h3>ç”µè„‘</h3>
          <div style={{ fontSize: '2em', color: '#dc3545' }}>{computerScore}</div>
        </div>
      </div>

      {/* æ¸¸æˆç»“æœ */}
      {isGameOver && (
        <div style={{
          textAlign: 'center',
          padding: '20px',
          backgroundColor: gameWinner === 'player' ? '#d4edda' : '#f8d7da',
          borderRadius: '10px',
          marginBottom: '20px'
        }}>
          <h2>
            {gameWinner === 'player' ? 'ğŸ‰ æ­å–œè·èƒœ!' : 'ğŸ˜¢ å¾ˆé—æ†¾å¤±è´¥!'}
          </h2>
          <button
            onClick={resetGame}
            style={{
              padding: '10px 20px',
              backgroundColor: '#007bff',
              color: 'white',
              border: 'none',
              borderRadius: '5px',
              cursor: 'pointer',
              marginTop: '10px'
            }}
          >
            é‡æ–°å¼€å§‹
          </button>
        </div>
      )}

      {/* éª°å­æ¸¸æˆåŒºåŸŸ */}
      {!isGameOver && (
        <div style={{ textAlign: 'center', marginBottom: '20px' }}>
          <h4>è¯·æŠ•æ·æ‚¨çš„éª°å­</h4>
          <DiceGame
            diceCount={2}
            gameMode="simple"
            onResult={handleResult}
            disabled={isGameOver}
          />
        </div>
      )}

      {/* å†å²è®°å½• */}
      {gameHistory.length > 0 && (
        <div>
          <h3>å¯¹æˆ˜è®°å½•:</h3>
          {gameHistory.map((record, index) => (
            <div
              key={index}
              style={{
                padding: '10px',
                margin: '5px 0',
                backgroundColor: record.winner === 'player' ? '#d4edda' :
                               record.winner === 'computer' ? '#f8d7da' : '#fff3cd',
                borderRadius: '5px',
                display: 'flex',
                justifyContent: 'space-between',
                alignItems: 'center'
              }}
            >
              <span>ç¬¬{record.round}è½®</span>
              <span>
                ç©å®¶: {record.player.dice.join('+')}={record.player.sum} vs
                ç”µè„‘: {record.computer.dice.join('+')}={record.computer.sum}
              </span>
              <span style={{ fontWeight: 'bold' }}>
                {record.winner === 'tie' ? 'å¹³å±€' :
                 record.winner === 'player' ? 'ç©å®¶èƒœ' : 'ç”µè„‘èƒœ'}
              </span>
            </div>
          ))}
        </div>
      )}
    </div>
  );
}
```

### ç»Ÿè®¡åˆ†æéª°å­æ¸¸æˆ

```typescript
function StatisticalDiceGame() {
  const [rolls, setRolls] = useState([]);
  const [diceCount, setDiceCount] = useState(2);
  const [autoRoll, setAutoRoll] = useState(false);

  const handleResult = (result) => {
    setRolls(prev => [...prev, result]);
  };

  // è®¡ç®—ç»Ÿè®¡æ•°æ®
  const stats = useMemo(() => {
    if (rolls.length === 0) return null;

    const sums = rolls.map(r => r.sum);
    const average = sums.reduce((a, b) => a + b, 0) / sums.length;
    const frequency = {};

    sums.forEach(sum => {
      frequency[sum] = (frequency[sum] || 0) + 1;
    });

    const mostCommon = Object.entries(frequency)
      .sort(([,a], [,b]) => b - a)[0];

    return {
      totalRolls: rolls.length,
      average: average.toFixed(2),
      min: Math.min(...sums),
      max: Math.max(...sums),
      mostCommon: mostCommon ? `${mostCommon[0]} (${mostCommon[1]}æ¬¡)` : 'æ— ',
      frequency
    };
  }, [rolls]);

  // è‡ªåŠ¨æŠ•æ·
  useEffect(() => {
    let interval;
    if (autoRoll && rolls.length < 100) {
      interval = setInterval(() => {
        // è§¦å‘æŠ•æ·...è¿™é‡Œéœ€è¦æ¨¡æ‹ŸæŠ•æ·
        const simulatedResult = {
          results: Array.from({ length: diceCount }, () => Math.floor(Math.random() * 6) + 1),
          sum: 0,
          gameMode: 'simple',
          message: 'è‡ªåŠ¨æŠ•æ·'
        };
        simulatedResult.sum = simulatedResult.results.reduce((a, b) => a + b, 0);
        setRolls(prev => [...prev, simulatedResult]);
      }, 500);
    }
    return () => clearInterval(interval);
  }, [autoRoll, rolls.length, diceCount]);

  const clearStats = () => setRolls([]);

  return (
    <div style={{ padding: '20px' }}>
      <div style={{ marginBottom: '20px', display: 'flex', gap: '20px', alignItems: 'center' }}>
        <div>
          <label>éª°å­æ•°é‡: </label>
          <select value={diceCount} onChange={(e) => setDiceCount(parseInt(e.target.value))}>
            {[1, 2, 3, 4].map(n => (
              <option key={n} value={n}>{n}ä¸ª</option>
            ))}
          </select>
        </div>

        <label>
          <input
            type="checkbox"
            checked={autoRoll}
            onChange={(e) => setAutoRoll(e.target.checked)}
            disabled={rolls.length >= 100}
          />
          è‡ªåŠ¨æŠ•æ· ({rolls.length}/100)
        </label>

        <button
          onClick={clearStats}
          style={{
            padding: '8px 16px',
            backgroundColor: '#dc3545',
            color: 'white',
            border: 'none',
            borderRadius: '4px'
          }}
        >
          æ¸…é™¤ç»Ÿè®¡
        </button>
      </div>

      <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px' }}>
        {/* éª°å­æ¸¸æˆåŒºåŸŸ */}
        <div>
          <DiceGame
            diceCount={diceCount}
            gameMode="simple"
            onResult={handleResult}
            disabled={autoRoll}
          />
        </div>

        {/* ç»Ÿè®¡é¢æ¿ */}
        {stats && (
          <div style={{ padding: '20px', backgroundColor: '#f8f9fa', borderRadius: '10px' }}>
            <h3>ç»Ÿè®¡æ•°æ®</h3>
            <div style={{ display: 'grid', gap: '10px' }}>
              <div>æ€»æŠ•æ·æ¬¡æ•°: {stats.totalRolls}</div>
              <div>å¹³å‡å€¼: {stats.average}</div>
              <div>æœ€å°å€¼: {stats.min}</div>
              <div>æœ€å¤§å€¼: {stats.max}</div>
              <div>æœ€å¸¸è§: {stats.mostCommon}</div>
            </div>

            <h4 style={{ marginTop: '20px' }}>é¢‘ç‡åˆ†å¸ƒ:</h4>
            <div style={{ fontSize: '0.9em' }}>
              {Object.entries(stats.frequency)
                .sort(([a], [b]) => parseInt(a) - parseInt(b))
                .map(([sum, count]) => (
                  <div key={sum} style={{ marginBottom: '5px' }}>
                    <div style={{ display: 'flex', justifyContent: 'space-between' }}>
                      <span>{sum}:</span>
                      <span>{count}æ¬¡ ({((count / stats.totalRolls) * 100).toFixed(1)}%)</span>
                    </div>
                    <div style={{
                      height: '8px',
                      backgroundColor: '#e9ecef',
                      borderRadius: '4px',
                      overflow: 'hidden'
                    }}>
                      <div style={{
                        height: '100%',
                        width: `${(count / stats.totalRolls) * 100}%`,
                        backgroundColor: '#007bff'
                      }} />
                    </div>
                  </div>
                ))}
            </div>
          </div>
        )}
      </div>
    </div>
  );
}
```

## ğŸ“‹ APIå‚è€ƒ

### DiceGameProps

| å±æ€§ | ç±»å‹ | é»˜è®¤å€¼ | æè¿° |
|------|------|--------|------|
| `diceCount` | `number` | `2` | éª°å­æ•°é‡ |
| `sides` | `number` | `6` | éª°å­é¢æ•° |
| `gameMode` | `'simple' \| 'sum' \| 'bigSmall' \| 'guess' \| 'even_odd' \| 'specific'` | `'simple'` | æ¸¸æˆæ¨¡å¼ |
| `targetSum` | `number` | `7` | ç›®æ ‡å’Œå€¼ï¼ˆsumæ¨¡å¼ä¸‹ä½¿ç”¨ï¼‰ |
| `onResult` | `(result: DiceGameResult) => void` | `undefined` | æŠ•æ·ç»“æœå›è°ƒ |

### ç»§æ‰¿çš„BaseGameProps

| å±æ€§ | ç±»å‹ | é»˜è®¤å€¼ | æè¿° |
|------|------|--------|------|
| `className` | `string` | `''` | CSSç±»å |
| `style` | `React.CSSProperties` | `{}` | å†…è”æ ·å¼ |
| `disabled` | `boolean` | `false` | æ˜¯å¦ç¦ç”¨ |
| `onGameStart` | `() => void` | `undefined` | æ¸¸æˆå¼€å§‹å›è°ƒ |
| `onGameEnd` | `(result: DiceGameResult) => void` | `undefined` | æ¸¸æˆç»“æŸå›è°ƒ |

### DiceGameResult

```typescript
interface DiceGameResult {
  results: number[];      // æ¯ä¸ªéª°å­çš„ç‚¹æ•°
  total: number;          // æ€»å’Œï¼ˆåŒsumï¼‰
  gameMode: string;       // æ¸¸æˆæ¨¡å¼
  isWin?: boolean;        // æ˜¯å¦è·èƒœï¼ˆæŸäº›æ¨¡å¼ä¸‹ï¼‰
  message: string;        // ç»“æœæè¿°æ¶ˆæ¯
  values: number[];       // éª°å­ç‚¹æ•°æ•°ç»„ï¼ˆåŒresultsï¼‰
  sum: number;           // ç‚¹æ•°æ€»å’Œ
  description: string;    // è¯¦ç»†æè¿°
}
```

### æ¸¸æˆæ¨¡å¼è¯´æ˜

| æ¨¡å¼ | æè¿° | èƒœåˆ©æ¡ä»¶ |
|------|------|----------|
| `simple` | ç®€å•æ¨¡å¼ | æ— ç‰¹å®šæ¡ä»¶ï¼Œä»…æ˜¾ç¤ºç»“æœ |
| `sum` | å’Œå€¼æ¨¡å¼ | æŠ•æ·æ€»å’Œç­‰äºç›®æ ‡å€¼ |
| `bigSmall` | å¤§å°æ¨¡å¼ | æ€»å’Œå¤§äº7ä¸º"å¤§"ï¼Œå°äºç­‰äº7ä¸º"å°" |
| `guess` | çŒœæµ‹æ¨¡å¼ | éœ€è¦ç©å®¶é¢„å…ˆçŒœæµ‹ç»“æœ |
| `even_odd` | å¥‡å¶æ¨¡å¼ | æ€»å’Œä¸ºå¶æ•°æˆ–å¥‡æ•° |
| `specific` | ç‰¹å®šå€¼æ¨¡å¼ | æŠ•æ·å‡ºæŒ‡å®šçš„ç‰¹å®šç»„åˆ |

## ğŸ¨ æ ·å¼å®šåˆ¶

### å®¹å™¨æ ·å¼

```css
.dice-game-container {
  border: 2px solid #28a745;
  border-radius: 15px;
  box-shadow: 0 8px 20px rgba(40, 167, 69, 0.2);
  background: linear-gradient(145deg, #f8fff8, #e8f5e8);
}

.dice-game-container:hover {
  transform: translateY(-2px);
  transition: transform 0.3s ease;
}
```

### æŠ•æ·åŠ¨ç”»

```css
.dice-rolling {
  animation: diceRoll 1s ease-in-out;
}

@keyframes diceRoll {
  0%, 100% { transform: rotate(0deg) scale(1); }
  25% { transform: rotate(90deg) scale(1.1); }
  50% { transform: rotate(180deg) scale(1.2); }
  75% { transform: rotate(270deg) scale(1.1); }
}
```

## ğŸ”§ é«˜çº§åŠŸèƒ½

### è‡ªå®šä¹‰æŠ•æ·è§„åˆ™

```typescript
function CustomRulesDiceGame() {
  const checkSpecialCombinations = (results) => {
    const sorted = [...results].sort();

    // é¡ºå­æ£€æŸ¥
    const isStraight = sorted.every((val, i) => i === 0 || val === sorted[i-1] + 1);

    // å¯¹å­æ£€æŸ¥
    const pairs = {};
    results.forEach(val => pairs[val] = (pairs[val] || 0) + 1);
    const pairCounts = Object.values(pairs);

    if (isStraight) return { type: 'straight', message: 'é¡ºå­ï¼', bonus: 50 };
    if (pairCounts.includes(3)) return { type: 'triple', message: 'ä¸‰æ¡ï¼', bonus: 30 };
    if (pairCounts.includes(2)) return { type: 'pair', message: 'å¯¹å­ï¼', bonus: 10 };

    return { type: 'normal', message: 'æ™®é€šæŠ•æ·', bonus: 0 };
  };

  return (
    <DiceGame
      diceCount={3}
      gameMode="simple"
      onResult={(result) => {
        const special = checkSpecialCombinations(result.results);
        alert(`${result.message}\n${special.message}\nå¥–åŠ±åˆ†æ•°: ${special.bonus}`);
      }}
    />
  );
}
```

### å¤šäººæ¸¸æˆæ¨¡å¼

```typescript
function MultiPlayerDiceGame() {
  const [players] = useState(['ç©å®¶1', 'ç©å®¶2', 'ç©å®¶3']);
  const [currentPlayer, setCurrentPlayer] = useState(0);
  const [scores, setScores] = useState({});
  const [round, setRound] = useState(1);

  const handleResult = (result) => {
    const player = players[currentPlayer];
    setScores(prev => ({
      ...prev,
      [player]: (prev[player] || 0) + result.sum
    }));

    // åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªç©å®¶
    const nextPlayer = (currentPlayer + 1) % players.length;
    if (nextPlayer === 0) {
      setRound(prev => prev + 1);
    }
    setCurrentPlayer(nextPlayer);
  };

  return (
    <div style={{ padding: '20px' }}>
      <div style={{ marginBottom: '20px' }}>
        <h3>ç¬¬ {round} è½® - {players[currentPlayer]} çš„å›åˆ</h3>
        <div style={{ display: 'flex', gap: '20px' }}>
          {players.map(player => (
            <div
              key={player}
              style={{
                padding: '10px',
                backgroundColor: player === players[currentPlayer] ? '#fff3cd' : '#f8f9fa',
                borderRadius: '5px'
              }}
            >
              {player}: {scores[player] || 0}åˆ†
            </div>
          ))}
        </div>
      </div>

      <DiceGame
        diceCount={2}
        gameMode="simple"
        onResult={handleResult}
      />
    </div>
  );
}
```

## ğŸ¯ æœ€ä½³å®è·µ

### 1. æ¸¸æˆæ¨¡å¼é€‰æ‹©

```typescript
// æ ¹æ®ç”¨æˆ·ç¾¤ä½“é€‰æ‹©åˆé€‚çš„æ¸¸æˆæ¨¡å¼
const gameModeConfig = {
  children: { mode: 'simple', diceCount: 1 },
  casual: { mode: 'bigSmall', diceCount: 2 },
  competitive: { mode: 'sum', diceCount: 3, targetSum: 10 }
};
```

### 2. æ€§èƒ½ä¼˜åŒ–

```typescript
// ä½¿ç”¨React.memoä¼˜åŒ–é‡æ¸²æŸ“
const OptimizedDiceGame = React.memo(({ diceCount, ...props }) => {
  return <DiceGame diceCount={diceCount} {...props} />;
});

// ç¼“å­˜å¤æ‚è®¡ç®—
const MemoizedDiceGame = () => {
  const gameConfig = useMemo(() => ({
    diceCount: 3,
    sides: 6,
    gameMode: 'sum'
  }), []);

  return <DiceGame {...gameConfig} />;
};
```

### 3. é”™è¯¯å¤„ç†

```typescript
function SafeDiceGame() {
  const [error, setError] = useState(null);

  const handleError = (error) => {
    setError(error.message);
    console.error('éª°å­æ¸¸æˆé”™è¯¯:', error);
  };

  return (
    <div>
      {error && (
        <div style={{ color: 'red', marginBottom: '10px' }}>
          é”™è¯¯: {error}
        </div>
      )}
      <DiceGame
        diceCount={2}
        onResult={(result) => {
          setError(null);
          console.log('æŠ•æ·æˆåŠŸ:', result);
        }}
      />
    </div>
  );
}
```

## ğŸ› å¸¸è§é—®é¢˜

### Q: éª°å­æŠ•æ·æ˜¯å¦çœŸæ­£éšæœºï¼Ÿ
A: æ˜¯çš„ï¼Œç»„ä»¶ä½¿ç”¨RandBoxçš„Mersenne Twisterç®—æ³•ï¼Œæä¾›é«˜è´¨é‡çš„éšæœºæ•°ç”Ÿæˆã€‚

### Q: å¯ä»¥è‡ªå®šä¹‰éª°å­é¢æ•°å—ï¼Ÿ
A: æ”¯æŒï¼Œé€šè¿‡`sides`å±æ€§å¯ä»¥è®¾ç½®4é¢ã€6é¢ã€8é¢ã€10é¢ã€12é¢ã€20é¢ç­‰å¤šç§éª°å­ã€‚

### Q: å¦‚ä½•å®ç°ç‰¹æ®Šçš„æŠ•æ·è§„åˆ™ï¼Ÿ
A: å¯ä»¥åœ¨`onResult`å›è°ƒä¸­è‡ªå®šä¹‰é€»è¾‘ï¼Œæ£€æŸ¥æŠ•æ·ç»“æœå¹¶å®ç°ç‰¹æ®Šè§„åˆ™ã€‚

### Q: æ”¯æŒå¤šå°‘ä¸ªéª°å­åŒæ—¶æŠ•æ·ï¼Ÿ
A: ç†è®ºä¸Šæ²¡æœ‰é™åˆ¶ï¼Œä½†å»ºè®®ä¸è¶…è¿‡6ä¸ªä»¥ä¿è¯è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒå’Œæ€§èƒ½ã€‚

## ğŸ”— ç›¸å…³é“¾æ¥

- [GridLottery - ä¹å®«æ ¼æŠ½å¥–](/zh/docs/react/grid-lottery)
- [SlotMachine - æ»šåŠ¨æŠ½å¥–](/zh/docs/react/slot-machine)
- [ScratchCard - åˆ®åˆ®å¡](/zh/docs/react/scratch-card)
- [RandBox æ ¸å¿ƒç®—æ³•](/zh/docs/basics)