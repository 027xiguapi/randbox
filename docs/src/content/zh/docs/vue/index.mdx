---
title: '@randbox/vue ç»„ä»¶åº“'
description: 'åŸºäºVue 3å’ŒCanvasçš„é«˜æ€§èƒ½æ¸¸æˆç»„ä»¶åº“ï¼Œæä¾›ä¹å®«æ ¼æŠ½å¥–ã€æ»šåŠ¨æŠ½å¥–ã€åˆ®åˆ®å¡ã€éª°å­æ¸¸æˆå’ŒçŸ³å¤´å‰ªåˆ€å¸ƒç»„ä»¶'
---

# @randbox/vue ç»„ä»¶åº“

@randbox/vue æ˜¯ä¸€ä¸ªåŸºäºVue 3å’ŒCanvasæ¸²æŸ“çš„é«˜æ€§èƒ½æ¸¸æˆç»„ä»¶åº“ï¼Œæä¾›äº†5ä¸ªæ ¸å¿ƒæ¸¸æˆç»„ä»¶ã€‚æ‰€æœ‰ç»„ä»¶éƒ½ä½¿ç”¨RandBoxä½œä¸ºéšæœºæ•°ç”Ÿæˆå™¨ï¼Œç¡®ä¿çœŸæ­£çš„éšæœºæ€§å’Œå…¬å¹³æ€§ã€‚

## âœ¨ ç‰¹æ€§

- ğŸ® **5ä¸ªæ ¸å¿ƒæ¸¸æˆç»„ä»¶**ï¼šä¹å®«æ ¼æŠ½å¥–ã€æ»šåŠ¨æŠ½å¥–ã€åˆ®åˆ®å¡ã€éª°å­æ¸¸æˆã€çŸ³å¤´å‰ªåˆ€å¸ƒ
- ğŸš€ **é«˜æ€§èƒ½**ï¼šåŸºäºCanvasæ¸²æŸ“ï¼Œæµç•…çš„åŠ¨ç”»æ•ˆæœ
- ğŸ“¦ **è½»é‡çº§**ï¼šä¼˜åŒ–åçš„æ‰“åŒ…å¤§å°ï¼Œæ”¯æŒTree-shaking
- ğŸ¨ **æ— éœ€CSS**ï¼šæ‰€æœ‰æ ·å¼éƒ½é€šè¿‡Canvasæ¸²æŸ“ï¼Œæ— å¤–éƒ¨ä¾èµ–
- ğŸ“± **å“åº”å¼**ï¼šè‡ªé€‚åº”ä¸åŒå±å¹•å°ºå¯¸
- ğŸ”§ **TypeScript**ï¼šå®Œæ•´çš„ç±»å‹å®šä¹‰æ”¯æŒ
- ğŸ² **çœŸå®éšæœº**ï¼šåŸºäºRandBoxçš„é«˜è´¨é‡éšæœºæ•°ç”Ÿæˆ
- âš¡ **Vue 3ä¼˜åŒ–**ï¼šåˆ©ç”¨Composition APIå’Œå“åº”å¼ç³»ç»Ÿ

## ğŸ“¦ å®‰è£…

```bash
npm install @randbox/vue randbox
# æˆ–
yarn add @randbox/vue randbox
# æˆ–
pnpm add @randbox/vue randbox
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

```vue
<template>
  <div>
    <!-- ä¹å®«æ ¼æŠ½å¥– -->
    <GridLottery
      :prizes="['å¥–å“1', 'å¥–å“2', 'å¥–å“3', 'è°¢è°¢å‚ä¸']"
      @result="handleGridResult"
    />

    <!-- éª°å­æ¸¸æˆ -->
    <DiceGame
      :dice-count="2"
      game-mode="sum"
      :target-sum="7"
      @result="handleDiceResult"
    />

    <!-- åˆ®åˆ®å¡ -->
    <ScratchCard
      :rows="3"
      :cols="3"
      :symbols="['ğŸ', 'ğŸŒ', 'ğŸ‡']"
      @scratch="handleScratchResult"
    />
  </div>
</template>

<script setup lang="ts">
import { GridLottery, DiceGame, ScratchCard } from '@randbox/vue'

const handleGridResult = (result) => {
  console.log('ä¹å®«æ ¼ä¸­å¥–:', result)
}

const handleDiceResult = (result) => {
  console.log('æŠ•æ·ç»“æœ:', result)
}

const handleScratchResult = (result) => {
  console.log('åˆ®å¥–ç»“æœ:', result)
}
</script>
```

## ğŸ® ç»„ä»¶åˆ—è¡¨

### [GridLottery - ä¹å®«æ ¼æŠ½å¥–](/zh/docs/vue/grid-lottery)
ç»å…¸çš„ä¹å®«æ ¼è½¬ç›˜æŠ½å¥–ï¼Œæ”¯æŒè‡ªå®šä¹‰å¥–å“å’Œæƒé‡ã€‚

### [SlotMachine - æ»šåŠ¨æŠ½å¥–](/zh/docs/vue/slot-machine)
å¤šæ»šè½´è€è™æœºé£æ ¼çš„æŠ½å¥–ç»„ä»¶ï¼Œæ”¯æŒè‡ªå®šä¹‰ç¬¦å·å’Œä¸­å¥–è§„åˆ™ã€‚

### [ScratchCard - åˆ®åˆ®å¡](/zh/docs/vue/scratch-card)
çœŸå®çš„åˆ®é™¤ä½“éªŒï¼Œæ”¯æŒå¤šç§ä¸­å¥–æ¨¡å¼ï¼ˆæ¨ªæ’ã€ç«–æ’ã€å¯¹è§’çº¿ï¼‰ã€‚

### [DiceGame - éª°å­æ¸¸æˆ](/zh/docs/vue/dice-game)
3Dæ•ˆæœçš„éª°å­æ¸¸æˆï¼Œæ”¯æŒå¤šç§æ¸¸æˆæ¨¡å¼ï¼ˆç®€å•ã€å’Œå€¼ã€å¤§å°ã€çŒœæµ‹ç­‰ï¼‰ã€‚

### [RockPaperScissors - çŸ³å¤´å‰ªåˆ€å¸ƒ](/zh/docs/vue/rock-paper-scissors)
ç»å…¸çš„çŸ³å¤´å‰ªåˆ€å¸ƒæ¸¸æˆï¼Œæ”¯æŒå¤šç§AIç­–ç•¥å’Œç»Ÿè®¡åŠŸèƒ½ã€‚

## ğŸ¯ Vue 3ç‰¹æ€§é›†æˆ

### Composition APIæ”¯æŒ

```vue
<script setup lang="ts">
import { ref, computed, onMounted } from 'vue'
import { GridLottery } from '@randbox/vue'

const prizes = ref(['ä¸€ç­‰å¥–', 'äºŒç­‰å¥–', 'ä¸‰ç­‰å¥–', 'è°¢è°¢å‚ä¸'])
const gameStats = ref({ total: 0, wins: 0 })

const winRate = computed(() => {
  return gameStats.value.total > 0
    ? (gameStats.value.wins / gameStats.value.total * 100).toFixed(1)
    : '0.0'
})

const handleResult = (result) => {
  gameStats.value.total++
  if (result.prize !== 'è°¢è°¢å‚ä¸') {
    gameStats.value.wins++
  }
}

onMounted(() => {
  console.log('ç»„ä»¶å·²æŒ‚è½½')
})
</script>
```

### å“åº”å¼æ•°æ®ç»‘å®š

```vue
<template>
  <div>
    <GridLottery
      :prizes="prizes"
      :weights="weights"
      :animation-duration="animationDuration"
      :disabled="isDisabled"
      @result="handleResult"
    />

    <div>
      <label>åŠ¨ç”»æ—¶é•¿: {{ animationDuration }}ms</label>
      <input v-model.number="animationDuration" type="range" min="1000" max="5000" />
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'

const prizes = ref(['å¤§å¥–', 'å°å¥–', 'è°¢è°¢å‚ä¸'])
const weights = ref([10, 30, 60])
const animationDuration = ref(3000)
const isDisabled = ref(false)
</script>
```

### äº‹ä»¶å¤„ç†

```vue
<template>
  <DiceGame
    @game-start="onGameStart"
    @game-end="onGameEnd"
    @result="onResult"
  />
</template>

<script setup>
const onGameStart = () => {
  console.log('æ¸¸æˆå¼€å§‹')
}

const onGameEnd = (result) => {
  console.log('æ¸¸æˆç»“æŸ:', result)
}

const onResult = (result) => {
  console.log('æŠ•æ·ç»“æœ:', result)
}
</script>
```

## ğŸ”§ æŠ€æœ¯è§„æ ¼

- **æ¡†æ¶ç‰ˆæœ¬**: Vue 3.3+
- **æ¸²æŸ“å¼•æ“**: HTML5 Canvas
- **éšæœºæ•°ç”Ÿæˆ**: RandBox (Mersenne Twisterç®—æ³•)
- **åŠ¨ç”»**: requestAnimationFrame + ç¼“åŠ¨å‡½æ•°
- **å“åº”å¼**: è‡ªåŠ¨é€‚é…å®¹å™¨å¤§å°
- **TypeScript**: å®Œæ•´çš„ç±»å‹æ”¯æŒ
- **æ„å»ºå·¥å…·**: Vite

## ğŸ“š APIå‚è€ƒ

æ‰€æœ‰ç»„ä»¶éƒ½ç»§æ‰¿è‡ªåŸºç¡€å±æ€§æ¥å£ï¼š

```typescript
interface BaseGameProps {
  class?: string
  style?: Record<string, any>
  disabled?: boolean
}
```

æ¯ä¸ªç»„ä»¶è¿˜æœ‰è‡ªå·±ç‰¹å®šçš„å±æ€§å’Œç±»å‹å®šä¹‰ï¼Œè¯¦è§å„ç»„ä»¶çš„ä¸“é—¨æ–‡æ¡£ã€‚

## ğŸ¨ è‡ªå®šä¹‰æ ·å¼

ç”±äºæ‰€æœ‰ç»„ä»¶éƒ½åŸºäºCanvasæ¸²æŸ“ï¼Œæ ·å¼å®šåˆ¶ä¸»è¦é€šè¿‡ç»„ä»¶å±æ€§è¿›è¡Œï¼š

```vue
<template>
  <!-- é€šè¿‡å®¹å™¨æ ·å¼æ§åˆ¶ç»„ä»¶å¤–è§‚ -->
  <div class="game-container">
    <GridLottery v-bind="gameProps" />
  </div>

  <!-- é€šè¿‡ç»„ä»¶å±æ€§æ§åˆ¶Canvaså†…å®¹ -->
  <DiceGame
    :style="{ border: '1px solid #ddd' }"
    class="my-dice-game"
  />
</template>

<style scoped>
.game-container {
  border: 2px solid #ccc;
  border-radius: 10px;
  padding: 20px;
}

.my-dice-game {
  margin: 20px auto;
}
</style>
```

## ğŸ› ï¸ å¼€å‘ç¯å¢ƒè®¾ç½®

### 1. é¡¹ç›®åˆå§‹åŒ–

```bash
# åˆ›å»ºVue 3é¡¹ç›®
npm create vue@latest my-game-app
cd my-game-app

# å®‰è£…ä¾èµ–
npm install @randbox/vue randbox
```

### 2. åœ¨main.tsä¸­æ³¨å†Œç»„ä»¶

```typescript
import { createApp } from 'vue'
import App from './App.vue'

// å…¨å±€æ³¨å†Œï¼ˆå¯é€‰ï¼‰
import * as RandBoxVue from '@randbox/vue'

const app = createApp(App)

// æ³¨å†Œæ‰€æœ‰ç»„ä»¶
Object.keys(RandBoxVue).forEach(key => {
  app.component(key, RandBoxVue[key])
})

app.mount('#app')
```

### 3. æŒ‰éœ€å¯¼å…¥ï¼ˆæ¨èï¼‰

```vue
<script setup>
import { GridLottery, DiceGame } from '@randbox/vue'
</script>
```

## âš¡ æ€§èƒ½ä¼˜åŒ–

- **Tree-shaking**: æ”¯æŒæŒ‰éœ€å¯¼å…¥ï¼Œæœªä½¿ç”¨çš„ç»„ä»¶ä¸ä¼šè¢«æ‰“åŒ…
- **Canvasæ¸²æŸ“**: åˆ©ç”¨GPUåŠ é€Ÿï¼Œæä¾›æµç•…çš„60fpsåŠ¨ç”»
- **å“åº”å¼ä¼˜åŒ–**: åˆ©ç”¨Vue 3çš„å“åº”å¼ç³»ç»Ÿè¿›è¡Œæ€§èƒ½ä¼˜åŒ–
- **ä»£ç åˆ†å‰²**: æ”¯æŒå¼‚æ­¥ç»„ä»¶åŠ è½½

```vue
<script setup>
// å¼‚æ­¥åŠ è½½ç»„ä»¶
import { defineAsyncComponent } from 'vue'

const GridLottery = defineAsyncComponent(() =>
  import('@randbox/vue').then(m => ({ default: m.GridLottery }))
)
</script>
```

## ğŸ§ª ä¸å…¶ä»–Vueç”Ÿæ€ç³»ç»Ÿé›†æˆ

### PiniaçŠ¶æ€ç®¡ç†

```typescript
// stores/game.ts
import { defineStore } from 'pinia'

export const useGameStore = defineStore('game', {
  state: () => ({
    totalGames: 0,
    totalWins: 0,
    gameHistory: []
  }),

  getters: {
    winRate: (state) =>
      state.totalGames > 0 ? (state.totalWins / state.totalGames * 100).toFixed(1) : '0.0'
  },

  actions: {
    recordGame(result) {
      this.totalGames++
      if (result.isWin) this.totalWins++
      this.gameHistory.unshift(result)
    }
  }
})
```

### Vue Routeré›†æˆ

```typescript
// router/index.ts
import { createRouter, createWebHistory } from 'vue-router'

const routes = [
  {
    path: '/games',
    component: () => import('../views/GamesView.vue'),
    children: [
      { path: 'lottery', component: () => import('../components/LotteryGames.vue') },
      { path: 'dice', component: () => import('../components/DiceGames.vue') },
    ]
  }
]
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·æŸ¥çœ‹æˆ‘ä»¬çš„[è´¡çŒ®æŒ‡å—](https://github.com/027xiguapi/randbox/blob/main/CONTRIBUTING.md)ã€‚

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](https://github.com/027xiguapi/randbox/blob/main/LICENSE) æ–‡ä»¶ã€‚