---
title: "ä»é›¶å¼€å§‹æ‰“é€  RandBoxï¼šä¸€ä¸ªå¼ºå¤§çš„ JavaScript éšæœºæ•°æ®ç”Ÿæˆåº“ï¼ˆ3/5ï¼‰- åŠŸèƒ½æ¨¡å—æ·±åº¦å®ç°"
description: "RandBox é¡µé¢ï¼šä»é›¶å¼€å§‹æ‰“é€  RandBoxï¼šä¸€ä¸ªå¼ºå¤§çš„ JavaScript éšæœºæ•°æ®ç”Ÿæˆåº“ï¼ˆ3/5ï¼‰- åŠŸèƒ½æ¨¡å—æ·±åº¦å®ç°ï¼ŒåŒ…å«ç¤ºä¾‹ä¸è¯´æ˜ã€‚"
date: "2025-10-16"
tags: ["RandBox", "blog", "03-feature-modules-deep-implementation"]
keywords: ["RandBox", "blog", "03-feature-modules-deep-implementation", "éšæœº", "JavaScript", "MDX"]
---

# ä»é›¶å¼€å§‹æ‰“é€  RandBoxï¼šä¸€ä¸ªå¼ºå¤§çš„ JavaScript éšæœºæ•°æ®ç”Ÿæˆåº“ï¼ˆ3/5ï¼‰- åŠŸèƒ½æ¨¡å—æ·±åº¦å®ç°

![randbox-home](/img/randbox-home.png)

## å‰è¨€

åœ¨å‰ä¸¤ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æ¢è®¨äº† RandBox çš„é¡¹ç›®è§„åˆ’å’Œæ ¸å¿ƒæ¶æ„ã€‚ä»Šå¤©ï¼Œæˆ‘å°†æ·±å…¥å„ä¸ªåŠŸèƒ½æ¨¡å—çš„å®ç°ç»†èŠ‚ï¼Œåˆ†äº«å¦‚ä½•æ„å»ºä¸°å¯Œå¤šæ ·çš„éšæœºæ•°æ®ç”ŸæˆåŠŸèƒ½ã€‚ä»åŸºç¡€çš„æ•°å­—å­—ç¬¦ä¸²ç”Ÿæˆåˆ°å¤æ‚çš„åœ°ç†åæ ‡è®¡ç®—ï¼Œæ¯ä¸ªæ¨¡å—éƒ½æœ‰å…¶ç‹¬ç‰¹çš„æŒ‘æˆ˜å’Œå·§å¦™çš„è§£å†³æ–¹æ¡ˆã€‚

## æ¨¡å—è®¾è®¡å“²å­¦

åœ¨å¼€å§‹å…·ä½“å®ç°ä¹‹å‰ï¼Œæˆ‘æƒ³å…ˆåˆ†äº« RandBox æ¨¡å—è®¾è®¡çš„æ ¸å¿ƒå“²å­¦ï¼š

### 1. **æ¸è¿›å¼å¤æ‚åº¦**
æ¯ä¸ªåŠŸèƒ½éƒ½æ”¯æŒä»ç®€å•åˆ°å¤æ‚çš„å¤šç§è°ƒç”¨æ–¹å¼ï¼š

```javascript
// ç®€å•è°ƒç”¨
randBox.name();                    // "å¼ ä¼Ÿ"

// ä¸­ç­‰å¤æ‚åº¦
randBox.name({ nationality: 'en' }); // "John Smith"

// å®Œå…¨è‡ªå®šä¹‰
randBox.name({
  nationality: 'zh',
  gender: 'female',
  prefix: true,
  suffix: false
});                               // "ç‹å¥³å£«"
```

### 2. **æ™ºèƒ½é»˜è®¤å€¼**
æ¯ä¸ªåŠŸèƒ½éƒ½æœ‰åˆç†çš„é»˜è®¤è¡Œä¸ºï¼Œæ— éœ€é…ç½®å³å¯ä½¿ç”¨ï¼š

```javascript
// è¿™äº›éƒ½ä¼šäº§ç”Ÿåˆç†çš„é»˜è®¤ç»“æœ
randBox.integer();    // 0-100ä¹‹é—´çš„æ•´æ•°
randBox.email();      // åˆç†æ ¼å¼çš„é‚®ç®±
randBox.phone();      // å½“å‰åœ°åŒºæ ¼å¼çš„ç”µè¯
```

### 3. **ä¸€è‡´æ€§åŸåˆ™**
æ‰€æœ‰æ¨¡å—éµå¾ªç›¸åŒçš„ API è®¾è®¡æ¨¡å¼ï¼Œé™ä½å­¦ä¹ æˆæœ¬ã€‚

## åŸºç¡€æ•°æ®ç±»å‹æ¨¡å—ï¼ˆbasics.tsï¼‰

åŸºç¡€æ¨¡å—æ˜¯æ•´ä¸ª RandBox çš„åŸºçŸ³ï¼Œå®ç°äº†æœ€æ ¸å¿ƒçš„éšæœºæ•°æ®ç”ŸæˆåŠŸèƒ½ã€‚

### 1. **æ•´æ•°ç”Ÿæˆçš„å¤šç§å®ç°æ–¹å¼**

```typescript
export function integer(this: RandBox): number;
export function integer(this: RandBox, max: number): number;
export function integer(this: RandBox, min: number, max: number): number;
export function integer(this: RandBox, options: IntegerOptions): number;
export function integer(
  this: RandBox,
  minOrOptions?: number | IntegerOptions,
  max?: number
): number {
  // å‚æ•°è§£æé€»è¾‘
  let min: number, maxVal: number, exclude: number[] = [];

  if (typeof minOrOptions === 'object') {
    // å¯¹è±¡å½¢å¼çš„å‚æ•°
    const opts = this.initOptions(minOrOptions, {
      min: -9007199254740991, // Number.MIN_SAFE_INTEGER
      max: 9007199254740991,  // Number.MAX_SAFE_INTEGER
      exclude: []
    });
    min = opts.min;
    maxVal = opts.max;
    exclude = opts.exclude;
  } else if (typeof minOrOptions === 'number') {
    if (max === undefined) {
      // integer(max) å½¢å¼
      min = 0;
      maxVal = minOrOptions;
    } else {
      // integer(min, max) å½¢å¼
      min = minOrOptions;
      maxVal = max;
    }
  } else {
    // integer() å½¢å¼ï¼Œä½¿ç”¨é»˜è®¤å€¼
    min = 0;
    maxVal = 100;
  }

  // å‚æ•°éªŒè¯
  this.testRange(
    !Number.isInteger(min) || !Number.isInteger(maxVal),
    'Min and max must be integers'
  );

  this.testRange(min > maxVal, 'Min cannot be greater than max');

  // ç”Ÿæˆéšæœºæ•´æ•°
  let result: number;
  const range = maxVal - min + 1;

  do {
    result = Math.floor(this.random() * range) + min;
  } while (exclude.includes(result) && exclude.length < range);

  if (exclude.includes(result) && exclude.length >= range) {
    throw new Error('All possible values are excluded');
  }

  return result;
}
```

### 2. **é«˜è´¨é‡å­—ç¬¦ä¸²ç”Ÿæˆ**

å­—ç¬¦ä¸²ç”Ÿæˆæ˜¯ä¸€ä¸ªçœ‹ä¼¼ç®€å•å®åˆ™å¤æ‚çš„åŠŸèƒ½ï¼Œéœ€è¦è€ƒè™‘å¤šç§å­—ç¬¦é›†å’Œç¼–ç ï¼š

```typescript
interface StringOptions {
  length?: number;
  pool?: string;
  alpha?: boolean;
  numeric?: boolean;
  symbols?: boolean;
  casing?: 'lower' | 'upper' | 'mixed';
  exclude?: string[];
}

export function string(this: RandBox, options?: StringOptions): string {
  const opts = this.initOptions(options, {
    length: 10,
    pool: null,
    alpha: true,
    numeric: false,
    symbols: false,
    casing: 'mixed',
    exclude: []
  });

  // æ„å»ºå­—ç¬¦æ± 
  let pool = opts.pool;
  if (!pool) {
    pool = '';

    if (opts.alpha) {
      pool += 'abcdefghijklmnopqrstuvwxyz';
      if (opts.casing === 'upper' || opts.casing === 'mixed') {
        pool += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
      }
    }

    if (opts.numeric) {
      pool += '0123456789';
    }

    if (opts.symbols) {
      pool += '!@#$%^&*()_+-=[]{}|;:,.<>?';
    }
  }

  // ç§»é™¤æ’é™¤å­—ç¬¦
  if (opts.exclude.length > 0) {
    for (const char of opts.exclude) {
      pool = pool.replace(new RegExp(char, 'g'), '');
    }
  }

  this.testRange(pool.length === 0, 'Character pool cannot be empty');

  // ç”Ÿæˆå­—ç¬¦ä¸²
  let result = '';
  for (let i = 0; i < opts.length; i++) {
    result += pool.charAt(Math.floor(this.random() * pool.length));
  }

  // å¤§å°å†™å¤„ç†
  if (opts.casing === 'lower') {
    result = result.toLowerCase();
  } else if (opts.casing === 'upper') {
    result = result.toUpperCase();
  }

  return result;
}
```

### 3. **æµ®ç‚¹æ•°ç²¾åº¦æ§åˆ¶**

æµ®ç‚¹æ•°ç”Ÿæˆéœ€è¦ç‰¹åˆ«æ³¨æ„ç²¾åº¦æ§åˆ¶ï¼š

```typescript
export function floating(
  this: RandBox,
  min = 0,
  max = 1,
  fixed?: number
): number {
  this.testRange(min > max, 'Min cannot be greater than max');

  const result = this.random() * (max - min) + min;

  if (fixed !== undefined) {
    this.testRange(
      !Number.isInteger(fixed) || fixed < 0,
      'Fixed must be a non-negative integer'
    );
    return Number(result.toFixed(fixed));
  }

  return result;
}
```

## ä¸ªäººä¿¡æ¯æ¨¡å—ï¼ˆperson.tsï¼‰

ä¸ªäººä¿¡æ¯æ¨¡å—æ˜¯ RandBox ä¸­æœ€å¤æ‚çš„æ¨¡å—ä¹‹ä¸€ï¼Œéœ€è¦å¤„ç†å¤šç§æ–‡åŒ–èƒŒæ™¯ä¸‹çš„äººåã€æ€§åˆ«ç­‰æ•°æ®ã€‚

### 1. **æ™ºèƒ½å§“åç”Ÿæˆ**

```typescript
interface PersonOptions {
  nationality?: 'zh' | 'en' | 'fr' | 'de' | 'jp';
  gender?: 'male' | 'female' | 'mixed';
  middle_initial?: boolean;
  prefix?: boolean;
  suffix?: boolean;
}

export function name(this: RandBox, options?: PersonOptions): string {
  const opts = this.initOptions(options, {
    nationality: 'zh',
    gender: 'mixed',
    middle_initial: false,
    prefix: false,
    suffix: false
  });

  // é€‰æ‹©æ€§åˆ«
  const selectedGender = opts.gender === 'mixed'
    ? this.pickone(['male', 'female'])
    : opts.gender;

  // è·å–å¯¹åº”æ•°æ®é›†
  const firstNames = DATASETS.firstNames[opts.nationality][selectedGender];
  const lastNames = DATASETS.lastNames[opts.nationality];

  let result = '';

  // æ·»åŠ å‰ç¼€
  if (opts.prefix) {
    const prefixes = DATASETS.prefixes[opts.nationality][selectedGender];
    result += this.pickone(prefixes) + ' ';
  }

  // ç”Ÿæˆå§“å
  const firstName = this.pickone(firstNames);
  const lastName = this.pickone(lastNames);

  if (opts.nationality === 'zh') {
    // ä¸­æ–‡ï¼šå§“+å
    result += lastName + firstName;
  } else {
    // è¥¿æ–¹ï¼šå+å§“
    result += firstName;

    // æ·»åŠ ä¸­é—´åé¦–å­—æ¯
    if (opts.middle_initial) {
      result += ' ' + this.character({ alpha: true, casing: 'upper' }) + '.';
    }

    result += ' ' + lastName;
  }

  // æ·»åŠ åç¼€
  if (opts.suffix) {
    const suffixes = DATASETS.suffixes[opts.nationality];
    result += ' ' + this.pickone(suffixes);
  }

  return result.trim();
}
```

### 2. **å¹´é¾„ä¸ç”Ÿæ—¥å…³è”ç”Ÿæˆ**

```typescript
interface AgeOptions {
  type?: 'child' | 'teen' | 'adult' | 'senior' | 'any';
  min?: number;
  max?: number;
}

export function age(this: RandBox, options?: AgeOptions): number {
  const opts = this.initOptions(options, {
    type: 'any',
    min: null,
    max: null
  });

  let min: number, max: number;

  if (opts.min !== null && opts.max !== null) {
    min = opts.min;
    max = opts.max;
  } else {
    // æ ¹æ®ç±»å‹ç¡®å®šèŒƒå›´
    switch (opts.type) {
      case 'child':
        min = 1; max = 12;
        break;
      case 'teen':
        min = 13; max = 19;
        break;
      case 'adult':
        min = 20; max = 64;
        break;
      case 'senior':
        min = 65; max = 100;
        break;
      default:
        min = 1; max = 100;
    }
  }

  return this.integer(min, max);
}

export function birthday(this: RandBox, options?: {
  type?: 'child' | 'teen' | 'adult' | 'senior';
  format?: 'date' | 'string' | 'iso';
}): Date | string {
  const opts = this.initOptions(options, {
    type: 'any',
    format: 'date'
  });

  const ageValue = this.age({ type: opts.type });
  const currentYear = new Date().getFullYear();
  const birthYear = currentYear - ageValue;

  const birthDate = new Date(
    birthYear,
    this.integer(0, 11), // æœˆä»½ 0-11
    this.integer(1, 28)  // æ—¥æœŸ 1-28ï¼ˆé¿å…æœˆä»½å¤©æ•°é—®é¢˜ï¼‰
  );

  switch (opts.format) {
    case 'string':
      return birthDate.toLocaleDateString();
    case 'iso':
      return birthDate.toISOString();
    default:
      return birthDate;
  }
}
```

## åœ°ç†ä½ç½®æ¨¡å—ï¼ˆlocation.tsï¼‰

åœ°ç†ä½ç½®æ¨¡å—æ¶‰åŠå¤æ‚çš„åœ°ç†è®¡ç®—å’Œå¤šç§åæ ‡ç³»ç»Ÿã€‚

### 1. **ç²¾ç¡®åæ ‡ç”Ÿæˆ**

```typescript
interface CoordinatesOptions {
  min_lat?: number;
  max_lat?: number;
  min_lng?: number;
  max_lng?: number;
  precision?: number;
}

export function coordinates(
  this: RandBox,
  options?: CoordinatesOptions
): { lat: number; lng: number } {
  const opts = this.initOptions(options, {
    min_lat: -90,
    max_lat: 90,
    min_lng: -180,
    max_lng: 180,
    precision: 6
  });

  // éªŒè¯åæ ‡èŒƒå›´
  this.testRange(
    opts.min_lat < -90 || opts.max_lat > 90,
    'Latitude must be between -90 and 90'
  );

  this.testRange(
    opts.min_lng < -180 || opts.max_lng > 180,
    'Longitude must be between -180 and 180'
  );

  const lat = Number(
    this.floating(opts.min_lat, opts.max_lat).toFixed(opts.precision)
  );

  const lng = Number(
    this.floating(opts.min_lng, opts.max_lng).toFixed(opts.precision)
  );

  return { lat, lng };
}

// æ ¹æ®å›½å®¶ç”ŸæˆçœŸå®çš„åæ ‡èŒƒå›´
export function coordinatesInCountry(
  this: RandBox,
  country: string
): { lat: number; lng: number } {
  const countryBounds = COUNTRY_BOUNDS[country.toUpperCase()];

  if (!countryBounds) {
    throw new Error(`Country bounds not found for: ${country}`);
  }

  return this.coordinates({
    min_lat: countryBounds.minLat,
    max_lat: countryBounds.maxLat,
    min_lng: countryBounds.minLng,
    max_lng: countryBounds.maxLng
  });
}
```

### 2. **åœ°å€ç”Ÿæˆç³»ç»Ÿ**

```typescript
export function address(this: RandBox, options?: {
  country?: string;
  full?: boolean;
}): string {
  const opts = this.initOptions(options, {
    country: 'CN',
    full: true
  });

  const countryData = ADDRESS_DATA[opts.country];

  if (!countryData) {
    throw new Error(`Address data not available for country: ${opts.country}`);
  }

  let result = '';

  if (opts.country === 'CN') {
    // ä¸­å›½åœ°å€æ ¼å¼
    const province = this.pickone(countryData.provinces);
    const city = this.pickone(countryData.cities[province]);
    const district = this.pickone(countryData.districts[city]);
    const street = this.pickone(countryData.streets);
    const number = this.integer(1, 999);

    if (opts.full) {
      result = `${province}${city}${district}${street}${number}å·`;
    } else {
      result = `${street}${number}å·`;
    }
  } else {
    // è¥¿æ–¹åœ°å€æ ¼å¼
    const number = this.integer(1, 9999);
    const street = this.pickone(countryData.streets);
    const streetType = this.pickone(countryData.streetTypes);

    result = `${number} ${street} ${streetType}`;
  }

  return result;
}
```

## é‡‘èæ¨¡å—ï¼ˆfinance.tsï¼‰

é‡‘èæ¨¡å—éœ€è¦ç”Ÿæˆç¬¦åˆçœŸå®æ ‡å‡†çš„é‡‘èæ•°æ®ï¼Œç‰¹åˆ«æ˜¯ä¿¡ç”¨å¡å·çš„ Luhn ç®—æ³•éªŒè¯ã€‚

### 1. **Luhn ç®—æ³•å®ç°**

```typescript
function luhnChecksum(number: string): number {
  let sum = 0;
  let alternate = false;

  // ä»å³åˆ°å·¦å¤„ç†æ¯ä¸€ä½
  for (let i = number.length - 1; i >= 0; i--) {
    let digit = parseInt(number.charAt(i), 10);

    if (alternate) {
      digit *= 2;
      if (digit > 9) {
        digit = (digit % 10) + 1;
      }
    }

    sum += digit;
    alternate = !alternate;
  }

  return sum % 10;
}

function luhnValid(number: string): boolean {
  return luhnChecksum(number) === 0;
}

function generateLuhnValid(prefix: string, length: number): string {
  // ç”Ÿæˆé™¤æœ€åä¸€ä½å¤–çš„æ‰€æœ‰æ•°å­—
  let number = prefix;
  while (number.length < length - 1) {
    number += Math.floor(Math.random() * 10).toString();
  }

  // è®¡ç®—æ ¡éªŒä½
  const checksum = luhnChecksum(number + '0');
  const checkDigit = checksum === 0 ? 0 : 10 - checksum;

  return number + checkDigit.toString();
}
```

### 2. **ä¿¡ç”¨å¡å·ç”Ÿæˆ**

```typescript
interface CreditCardOptions {
  type?: 'visa' | 'mastercard' | 'amex' | 'discover' | 'any';
  formatted?: boolean;
}

export function cc(this: RandBox, options?: CreditCardOptions): string {
  const opts = this.initOptions(options, {
    type: 'any',
    formatted: false
  });

  // ä¿¡ç”¨å¡ç±»å‹é…ç½®
  const cardTypes = {
    visa: { prefix: ['4'], length: [16] },
    mastercard: { prefix: ['51', '52', '53', '54', '55'], length: [16] },
    amex: { prefix: ['34', '37'], length: [15] },
    discover: { prefix: ['6011'], length: [16] }
  };

  let selectedType: string;
  if (opts.type === 'any') {
    selectedType = this.pickone(Object.keys(cardTypes));
  } else {
    selectedType = opts.type;
  }

  const typeConfig = cardTypes[selectedType];
  const prefix = this.pickone(typeConfig.prefix);
  const length = this.pickone(typeConfig.length);

  // ç”Ÿæˆç¬¦åˆ Luhn ç®—æ³•çš„å¡å·
  let cardNumber = generateLuhnValid(prefix, length);

  // æ ¼å¼åŒ–è¾“å‡º
  if (opts.formatted) {
    if (selectedType === 'amex') {
      // American Express: 4-6-5 æ ¼å¼
      cardNumber = cardNumber.replace(/(\d{4})(\d{6})(\d{5})/, '$1 $2 $3');
    } else {
      // å…¶ä»–: 4-4-4-4 æ ¼å¼
      cardNumber = cardNumber.replace(/(\d{4})/g, '$1 ').trim();
    }
  }

  return cardNumber;
}
```

## ç½‘ç»œæ¨¡å—ï¼ˆweb.tsï¼‰

ç½‘ç»œæ¨¡å—ç”Ÿæˆå„ç§äº’è”ç½‘ç›¸å…³çš„æ•°æ®ï¼Œéœ€è¦ç¬¦åˆç›¸å…³çš„ RFC æ ‡å‡†ã€‚

### 1. **æ™ºèƒ½é‚®ç®±ç”Ÿæˆ**

```typescript
export function email(this: RandBox, options?: {
  domain?: string;
  username?: string;
  length?: number;
}): string {
  const opts = this.initOptions(options, {
    domain: null,
    username: null,
    length: null
  });

  // ç”Ÿæˆç”¨æˆ·å
  let username = opts.username;
  if (!username) {
    if (opts.length) {
      username = this.string({
        length: opts.length,
        alpha: true,
        numeric: true,
        casing: 'lower'
      });
    } else {
      // åŸºäºçœŸå®å§“åç”Ÿæˆ
      const firstName = this.first().toLowerCase();
      const lastName = this.last().toLowerCase();

      // å¤šç§ç»„åˆæ–¹å¼
      const patterns = [
        `${firstName}.${lastName}`,
        `${firstName}${lastName}`,
        `${firstName.charAt(0)}${lastName}`,
        `${firstName}${this.integer(10, 99)}`
      ];

      username = this.pickone(patterns);
    }
  }

  // æ¸…ç†ç”¨æˆ·åï¼ˆç§»é™¤éæ³•å­—ç¬¦ï¼‰
  username = username.replace(/[^a-z0-9.-]/g, '');

  // ç”ŸæˆåŸŸå
  let domain = opts.domain;
  if (!domain) {
    const commonDomains = [
      'gmail.com', 'outlook.com', 'yahoo.com', 'hotmail.com',
      '163.com', 'qq.com', '126.com', 'sina.com'
    ];
    domain = this.pickone(commonDomains);
  }

  return `${username}@${domain}`;
}
```

### 2. **IP åœ°å€ç”Ÿæˆ**

```typescript
export function ip(this: RandBox, options?: {
  version?: 4 | 6;
  private?: boolean;
}): string {
  const opts = this.initOptions(options, {
    version: 4,
    private: false
  });

  if (opts.version === 4) {
    if (opts.private) {
      // ç”Ÿæˆç§æœ‰ IP åœ°å€
      const privateRanges = [
        { start: [10, 0, 0, 0], end: [10, 255, 255, 255] },
        { start: [172, 16, 0, 0], end: [172, 31, 255, 255] },
        { start: [192, 168, 0, 0], end: [192, 168, 255, 255] }
      ];

      const range = this.pickone(privateRanges);
      return [
        this.integer(range.start[0], range.end[0]),
        this.integer(range.start[1], range.end[1]),
        this.integer(range.start[2], range.end[2]),
        this.integer(range.start[3], range.end[3])
      ].join('.');
    } else {
      // ç”Ÿæˆå…¬å…± IP åœ°å€ï¼ˆé¿å…ç§æœ‰å’Œä¿ç•™åœ°å€æ®µï¼‰
      let octets: number[];
      do {
        octets = [
          this.integer(1, 255),
          this.integer(0, 255),
          this.integer(0, 255),
          this.integer(1, 255)
        ];
      } while (isPrivateIP(octets) || isReservedIP(octets));

      return octets.join('.');
    }
  } else {
    // IPv6 åœ°å€ç”Ÿæˆ
    const groups = [];
    for (let i = 0; i < 8; i++) {
      groups.push(this.string({ length: 4, pool: '0123456789abcdef' }));
    }
    return groups.join(':');
  }
}

function isPrivateIP(octets: number[]): boolean {
  return (
    octets[0] === 10 ||
    (octets[0] === 172 && octets[1] >= 16 && octets[1] <= 31) ||
    (octets[0] === 192 && octets[1] === 168)
  );
}

function isReservedIP(octets: number[]): boolean {
  return (
    octets[0] === 0 ||       // å½“å‰ç½‘ç»œ
    octets[0] === 127 ||     // å›ç¯åœ°å€
    octets[0] === 224 ||     // å¤šæ’­åœ°å€
    octets[0] >= 240         // ä¿ç•™åœ°å€
  );
}
```

## æ€§èƒ½ä¼˜åŒ–æŠ€å·§

### 1. **æ•°æ®é¢„å¤„ç†**

```typescript
// é¢„è®¡ç®—å¸¸ç”¨æ•°æ®
const COMMON_PATTERNS = {
  chinesePhoneFormats: [
    '13#########',
    '15#########',
    '18#########'
  ].map(pattern => pattern.replace(/#/g, () =>
    Math.floor(Math.random() * 10).toString()
  ))
};
```

### 2. **ç¼“å­˜æœºåˆ¶**

```typescript
class ModuleCache {
  private static cache = new Map<string, any>();

  static get<T>(key: string, generator: () => T): T {
    if (!this.cache.has(key)) {
      this.cache.set(key, generator());
    }
    return this.cache.get(key);
  }
}

// ä½¿ç”¨ç¤ºä¾‹
export function getCountryData(country: string) {
  return ModuleCache.get(`country_${country}`, () =>
    loadCountryData(country)
  );
}
```

## ä¸‹æœŸé¢„å‘Š

åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†æ·±å…¥æ¢è®¨ RandBox çš„æµ‹è¯•ä½“ç³»å’Œè´¨é‡ä¿è¯ï¼ŒåŒ…æ‹¬ï¼š

- å®Œæ•´çš„å•å…ƒæµ‹è¯•è®¾è®¡
- æ€§èƒ½æµ‹è¯•ä¸åŸºå‡†æ¯”è¾ƒ
- å¤šç¯å¢ƒå…¼å®¹æ€§æµ‹è¯•
- æŒç»­é›†æˆæµç¨‹æ­å»º

æ•¬è¯·æœŸå¾…ã€Šä»é›¶å¼€å§‹æ‰“é€  RandBoxï¼ˆ4/5ï¼‰- æµ‹è¯•ä½“ç³»ä¸è´¨é‡ä¿è¯ã€‹ï¼

---

## å…³äº RandBox

**ğŸ  å®˜ç½‘**: [https://randbox.top](https://randbox.top)
**ğŸ“¦ GitHub**: [https://github.com/027xiguapi/randbox](https://github.com/027xiguapi/randbox)
**ğŸ“š æ–‡æ¡£**: [https://randbox.top/zh/docs](https://randbox.top/zh/docs)

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç»™æˆ‘ä»¬ä¸€ä¸ª â­ Starï¼